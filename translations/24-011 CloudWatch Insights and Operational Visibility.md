---
source: 24 - AWS Monitoring & Audit CloudWatch, CloudTrail & Config\011 CloudWatch Insights and Operational Visibility_zh.srt
---

讲师：现在, 我们来谈谈CloudWatch产品的洞察力类型｡

我们有, 我们有第一个是CloudWatch容器洞察｡

正如名称所示, 这就是从容器中收集､

聚合和汇总指标和日志的方法｡

它适用于在Amazon ECS､

Amazon EKS､ Kubernetes平台上直接在EC2上运行的容器,

也适用于在Fargate上运行的容器, 包括ECS和EKS｡

因此, 我们的想法是,

由于CloudWatch容器洞察力,

我们可以非常容易地从容器中提取指标和日志,

并将其从CloudWatch中提取到一个非常详细和粒度的仪表板中｡

您需要了解的另一件事是,

如果您在Kubernetes上使用CloudWatch容器洞察,

它是用于运行在EC2上的Amazon EKS还是Kubernetes？

CloudWatch洞察的工作方式是使用容器化版本的CloudWatch代理来发现容器｡

所以你们首先要记住的是这个｡ 

第二个是Lambda见解｡ 

所以你在猜是关于什么的｡ 

它是关于在AWS Lambda上运行的无服务器应用程序的监控和故障排除解决方案｡

同样, 它将收集､ 聚合和汇总系统级指标,

包括CPU时间､ 内存､ 磁盘和网络, 以及有关冷启动和Lambda工作线程关闭的信息｡

它是作为Lambda图层提供给Lambda函数的｡

你并不真正了解这个｡ 

但这个想法是它运行在你的Lambda旁边｡ 

它将创建一个名为Lambda insights的指定仪表板,

用于监控Lambda函数的性能｡

当您需要对运行在AWS

Lambda上的无服务器应用进行非常详细的监控时,

可以使用此功能｡

然后, 我们有贡献者的见解｡ 

因此, 这一个是分析日志, 并创建时间序列,

显示贡献的数据｡

例如, 您希望查看最大贡献者或唯一贡献者的总数及其使用情况｡

我们将快速进入一个示例, 以便您了解这意味着什么｡

例如, 这可以帮助您找到网络中的最大流量生成者,

并了解谁在影响系统性能｡

因此, 您可以在AWS生成的任何日志上运行它｡ 

例如, VPC日志或DNS日志等｡ 

让我们举个例子｡ 

您可以识别坏主机｡ 

因此, 我们将查看网络日志和VPC日志｡ 

我们将找到最繁忙的网络用户, 或者我们可以找到,

例如, 如果你看DNS, 产生最多错误的URL｡

那么, 让我们来看看如何识别最重的网络用户｡

因此, 我们查看VPC流日志, 这是在VPC中进行的所有网络请求的日志,

然后将其传递到CloudWatch日志,

然后由CloudWatch贡献者洞察进行分析｡

从中, 我们可以找到在RVPC上产生流量的前10个IP地址,

并了解它们是好的参与者还是坏的参与者｡

因此, 无论何时, 您看到前10名贡献者或其他什么, 这就是CloudWatch贡献者洞察｡

这样你就可以通过日志找到谁是最好的｡

因此, 您可以从头开始构建规则,

也可以利用AWS创建的简单规则｡

在幕后, 它再次利用了CloudWatch日志｡ 

最后, 您还可以使用内置的规则来分析来自其他AWS服务的指标｡

最后, 我们还有CloudWatch应用洞察,

它提供了一个自动化的仪表盘, 显示受监控应用的潜在问题,

以帮助隔离正在发生的问题｡

因此, 您的应用程序可以在Amazon EC2上运行｡ 

我们仅选择技术, 例如Java或｡  net､ Microsoft

IIS Web服务器或特定数据库｡

然后, 它将链接到其他AWS资源, 如EBS､

RDS､ ELB､ ASG､ Lambda､ SQS､ DynamoDB､

S3存储桶, 可能是ECS集群､ EKS集群､

SNS主题或API网关｡

因此, 如果您的应用出现问题, CloudWatch应用洞察将自动生成一个自动化仪表盘,

向您显示某些服务的潜在问题｡

为了做到这一点, 自动化仪表板将在内部使用SageMaker机器学习服务｡

因此, 它确实可以让您更好地了解应用程序的运行状况,

从而减少您对应用程序进行故障排除和修复所需的时间｡

这真的很酷, 因为如果您的应用程序正在使用AWS的其他服务或其他资源,

如果问题是由其中一个服务或资源引起的, 它会自动出现在应用程序洞察仪表盘中｡

所有警报和发现都将发送到Amazon

EventBridge和SSM OpsCenter,

以便在检测到应用程序存在问题时向您发出警报｡

因此, 总而言之, 您只需要对这些服务有较高的了解｡

因此, CloudWatch容器洞察力适用于来自ECS､

EKS､ EC2上的Kubernetes和Fargate的指标和日志｡

如果您使用的是Kubernetes,

则需要一个代理来运行｡

对于CloudWatch Lambda洞察, 这是对运行在AWS

Lambda上的无服务器应用进行故障排除的详细指标｡

对于CloudWatch贡献者的见解,

这是通过您的CloudWatch日志找到最高端的贡献者｡

对于CloudWatch应用洞察,

这是为了创建自动仪表板, 以排除应用和应用所使用的相关AWS服务的故障｡

这节课就讲到这里,

你应该能应付考试｡

希望你喜欢｡ 

我们下节课再见｡

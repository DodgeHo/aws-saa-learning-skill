---
source: 09 - AWS Fundamentals RDS + Aurora + ElastiCache\007 Amazon Aurora - Advanced Concepts_zh.srt
---

讲师：那么现在让我们讨论一下Aurora的高级概念,

你需要在考试中了解这些概念｡

让我们来谈谈复制品自动缩放｡ 

假设我们有一个客户,

我们现在有三个Aurora的实例｡

因此, 一个将通过writer端点进行写入, 另外两个将通过reader端点进行读取｡

好吧 现在, 假设我们在读取器端点上有很多很多请求,

读取请求, 因此Amazon Aurora数据库的CPU使用率增加｡

在这种情况下, 我们可以设置副本自动扩展,

这将做的是它将添加明显的Amazon

Aurora副本,

然后会发生的是, 读取器端点将自动扩展以覆盖这些新副本, 因此这些新副本将开始接收一些流量,

读取将以更加分布式的方式发生, 希望降低整体CPU使用率｡

这就是副本自动缩放｡ 

第二件事是自定义端点｡ 

假设我们有相同的设置,

但这次我们有两种不同的副本｡

正如你所看到的, 我们有一些DBR三大和一些DBR五两大｡

因此, 一些读取副本比其他副本大｡ 

这样做的原因是您希望将Aurora实例的子集定义为自定义端点｡

假设我们在这两个较大的Aurora实例上定义一个自定义端点｡

我们这样做的原因是, 例如,

我们知道这些实例更强大, 因此它们将更好地在这些特定副本上运行分析查询｡

所以当你这样做的时候,

你就有了一个定义好的自定义端点｡

当您有一个自定义端点时,

通常在定义自定义端点后不会使用读取器端点本身｡

所以它不会消失, 但你不会再使用它｡ 

实际上, 您要做的是为许多不同类型的工作负载设置许多自定义端点,

因此允许您仅查询Aurora副本的子集｡

接下来是serverless｡ 

因此, 这将为您提供基于实际使用的自动数据库实例化和自动扩展,

当您有不频繁, 间歇性或不可预测的工作负载时, 这非常棒｡

因此, 您不需要进行任何容量规划｡ 

你将为每个正在旋转的Aurora实例的每秒付费,

这可能更具成本效益｡

这是怎么做到的

嗯, 客户端将与Aurora管理的代理舰队进行对话,

在后端, 许多Aurora实例将以无服务器的方式基于您的工作负载创建,

因此您完全不必提前配置容量｡

最后, 我们有全球极光｡ 

因此, 如果我们有一个Aurora跨区域读取副本, 它将对灾难恢复非常有帮助｡

很容易安装到位｡ 

但是你也可以设置Aurora全球数据库,

这是今天推荐的做事方式｡

在这种情况下, 您有一个主要区域,

所有的读取和写入都发生在其中,

但您可以设置最多五个辅助只读区域, 其中复制时间应少于一秒, 每个辅助区域最多16个读取副本｡

这将帮助您减少全球读取工作负载的延迟,

而且如果您在一个区域中发生数据库中断, 出于灾难恢复目的提升另一个区域的RTO可以恢复不到一分钟的时间目标｡

所以我们需要在一分钟内恢复到另一个区域｡ 

从考试的角度来看,

您应该注意一句话,

为Aurora全球数据库跨区域复制数据平均只需不到一秒｡

所以如果你看到一个考试,

这是一个使用全球极光的提示｡

让我们来看看｡ 

我们将us-east 1作为主要区域,

应用程序在此执行读写操作, 然后我们将在us中设置一个辅助区域-使用Aurora的全局数据库和应用程序进行一次或多次复制,

这些应用程序可以从该设置执行只读操作｡

但是如果us-east 1失败, 那么我们可以通过将其提升为读写Aurora集群来故障转移到us-one｡

Aurora还与AWS中的机器学习服务集成｡

因此, Aurora机器学习的想法是,

您可以通过SQL接口对应用程序进行基于ML的预测｡

这是Aurora与不同AWS机器学习服务之间简单､

优化且安全的集成｡

所以有两个支持的服务是SageMaker, 它允许你在后端使用任何类型的机器学习模型,

或者如果你想做情感分析, 可以使用Amazon Comprehend｡

现在, 你不需要成为SageMaker或Comprehend的专家,

你只需要知道Aurora与这些集成｡

因此, 为了使用Aurora机器学习,

您不必, 您不需要有机器学习经验｡

这方面的用例将是在Aurora中进行欺诈检测､

广告定位､ 情感分析或产品推荐｡

为了给你提供架构概念, Aurora将连接到AWS中的机器学习服务｡

您的应用程序可以只运行一个非常简单的SQL查询｡ 

例如, 推荐的产品有哪些？

Aurora将向机器学习服务发送一些数据,

例如用户的个人资料､ 购物历史等｡

然后, 机器学习服务将直接向Aurora返回预测｡

例如, 用户应该买一件红衬衫和蓝裤子,

然后Aurora可以将查询结果作为SQL查询的结果返回给应用程序,

这非常方便｡

所以这只是为了避免考试｡ 

这节课就到这里｡ 

希望你们喜欢, 下次课再见｡

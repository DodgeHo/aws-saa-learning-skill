---
source: 12 - Amazon S3 Introduction\008 S3 Versioning - Hands On_zh.srt
---

- ：现在我们来看看S3版本控制｡ 

因此, 首先您需要进入属性, 然后我们有一个存储桶版本控制设置｡

我们要编辑它并启用它｡ 

这是为了启用存储桶版本控制｡ 

因此, 我们现在覆盖的任何文件都只是将版本添加到我们的桶中｡

所以这是好事｡ 

让我们进入我们的对象,

并说我们要更新我们的网站｡

让我们返回, 找到网站URL｡ 

就在这里

好的, 我们有“我爱咖啡”,

但是假设我们想写, “我真的很爱咖啡”, 所以我们回到这里,

我们的文件｡

我会编辑它,

说我真的很喜欢咖啡｡

我保存了下来｡ 

现在我再次上传这个文件｡ 

所以我将添加一个文件, 它将成为我的索引｡  html中找到｡ 

现在我们已经更新了该文件中的内容｡ 

所以如果我上传的话｡ 

成功了｡ 

所以现在它被覆盖了｡ 

如果我进入我的第一个网页, 并刷新这一点, 我得到“我真的很喜欢咖啡｡

“可后面到底发生了什么事？

如果我们转到这里,

这里有“显示版本”这个切换选项,

我们将显示文件的实际版本ID｡

所以我们可以注意到一些事情｡ 

第一, 我们之前上传的文件, 比如海滩｡

jpg和咖啡｡  jpg具有空版本ID｡

这是因为它们是在我们启用版本控制之前上传的｡

但是这个文件索引｡  html有两个版本｡ 

一个文件的版本ID为null, 这是我们在启用版本控制之前上载的文件｡

但我们刚刚上传的文件有一个版本ID｡ 

因此, 通过更新此文件并将其上传到S3存储桶中,

我们创建了一个新的版本ID｡

因此, 只有启用此切换, 您才能看到这些内容｡

现在, 多亏了版本控制,

我们可以回滚页面｡

所以我们有, “我真的很喜欢咖啡”, 但我们想回到“我喜欢咖啡｡

“那么,

当我们单击此特定版本ID时,

我们如何执行此操作呢？好的,

请确保启用了“显示版本”, 然后我们将进行删除｡

在这里, 我们必须删除对象的特定版本ID｡

因此, 当我们删除对象的特定版本ID时,

这称为永久删除｡

所以这是一个破坏性的操作, 它不能被撤销｡ 

如果确定, 我们在此文本框中键入永久删除,

然后单击删除对象｡

现在, 如果您返回, 如我们所见,

我们将返回桶的上一个日期｡

因此, 如果我刷新这个页面, 我只会得到“我爱咖啡｡

“但是如果我们禁用“显示版本”呢？

现在我们有了我们的对象,

我要喝咖啡了. jpg文件,

我会删除它本身｡

因此, 这次我们并没有真正删除底层版本ID,

而是通过添加一个删除标记来删除｡

所以它实际上并没有删除底层对象, 我们会看到｡

这次我们只输入delete｡ 

这不是永久删除, 它只是删除,

我们删除对象｡

好极了｡ 

现在如果我们从桶里看它, 它看起来像咖啡｡

jpg文件完成｡ 

但如果我们点击“显示版本”, 我们会看到我们的咖啡上有一个删除标记｡

.

jpg文件｡

和真正的, 以前的, 至少, 咖啡｡  jpg文件仍然在我们的桶中,

但至少现在从版本的角度来看,

它被删除标记覆盖了｡

回到我们的网页, 如果我刷新这个页面,

并通过强制刷新来刷新它, 通过执行Command

+ Shift + R来强制刷新, 然后我们会看到图像不可用｡

那我们怎么恢复这张照片呢？

例如, 如果我只是尝试在新标签页中打开此图像,

它就不起作用｡

我收到“404未找到”｡  “因此, 要恢复以前的对象,

我可以单击此删除标记,

然后删除删除标记｡

所以我会永久删除这个删除标记｡ 

这样做的效果是, 它将恢复对象的上一个版本,

也就是之前的这个｡

回到我的网页, 如果我现在刷新它, 我们可以看到咖啡｡

jpg文件在那里｡ 

因此, 您可以随意使用版本控制,

您可以添加任意多个文件版本｡

您可以开始删除它们并查看发生的情况｡ 

但我希望你们喜欢这节课,

下节课再见｡

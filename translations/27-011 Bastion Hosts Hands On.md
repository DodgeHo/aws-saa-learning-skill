---
source: 27 - Networking - VPC\011 Bastion Hosts Hands On_zh.srt
---

- ：因此, 我们在公共子网中创建的这个EC2实例可以有一个名称,

该名称可以是Bashian host｡

这是因为我们能够SSH进入这个时尚主机,

并从它, 我们将能够连接到一个私有子网中的EC 2实例｡

为了做得更好, 让我们继续在私有子网中创建一个EC

2实例, 但首先, 如果您没有密钥对,

但有时我会重用帐户或创建新帐户或输血｡

所以我不一定有密钥对｡ 

您可以输入一个密钥对｡ 

所以我在这里有一个演示密钥对, 然后是PM格式的｡

然后我将创建我的密钥对｡ 

所以我将保存这个文件, 这将是非常方便的,

我们将SSH到我的私有子网中的EC 2实例｡

让我们来看看我们如何做到这一点｡ 

现在让我们进入EC

2实例-：我将启动一个EC 2实例｡

我将向下滚动Amazon Linux 2, 两个微型｡ 

我们将使用刚刚创建的名为演示密钥对的密钥对｡

然后对于网络设置, 我们将确保将其启动到我们的演示VPC中｡

以及子网关联｡ 

所以我们想进入一个私有子网,

例如私有子网a, 我们要创建一个安全组｡

我将把它命名为private SG,

因为它是一个私有安全组, 我们将允许SSH,

但实际上不是来自自定义的任何地方, 这次它将选择我们之前创建的安全组,

称为启动向导, 这不是一个好名字｡

我将很快重新命名它, 但这意味着我们允许来自Bashian主机的SSH｡

这就是如何通过集线器,

通过Basian主机, 我们将能够SSH进入这个私有实例｡

好吧, 看起来不错｡ 

现在让我们继续并实际启动该实例,

这样就可以开始了｡

- ：所以这里我们有一个私有实例, 因为它在私有转租中, 正如你所知道的,

我们不能使用EC两个实例连接到它, 因为这不起作用｡

好吧 我们将需要在互联网网关编辑根表,

但这将使子网公开｡

所以我们要做的就是通过SSH连接Bashian主机｡

好吧 所以让我们来看看我们怎么做｡ 

所以我们要连接到我们的巴什主机｡ 

所以我将点击连接, 然后EC两个实例连接｡ 

所以实际上我们正在做的是, 我们正在做SSH到我们的巴什主机｡

因此, 您可以使用EC两个实例连接,

或者您知道, 通过终端使用SSH命令行｡

从这个时尚主机, 我们要连接到我们的私人实例｡

现在我们可以看到我们的私有实例有一个私有IP

4地址｡

所以这就是我们要做的｡ 

所以我们需要做SSH容易两个用户在, 然后私有IP,

然后我们需要指定一个密钥对｡

好吧 所以是的, 这是行不通的, 因为我们还没有指定一个密钥对｡

所以我们需要实际创建密钥对, 然后将其放在我的EC

2实例上｡

所以我要做的是我将有一个VI或nano, 然后我将其称为演示密钥对｡

下午,

然后我将不得不粘贴我刚刚下载的密钥对的内容｡

所以我打开我的文件, 下午用文本编辑器,

然后我粘贴我在这里有什么, 我想确保这是好的｡

所以我觉得这里少了一行｡ 

好吧 看起来不错

让我想想

然后退出, 然后保存｡ 

好吧 所以让我们把屏幕清空｡ 

我们先确认一下这个是否被妥善保存了｡ 

希望这看起来不错｡ 

让我想想

我不太... 我一点也不被格式搞糊涂,

但让我们看看｡

我们要确保我们改变了许可｡ 

因此, 我将更改此演示密钥配置文件的权限.

好吧 现在让我们执行SSH命令并减去I演示密钥对｡

下午,

有一个通过上升, 这肯定是一个问题, 我的文件格式｡

所以我要做的是删除演示密钥对｡

是的 请把它拿掉｡ 

我将使用另一个文本编辑器来看看是否有效｡ 

所以VI演示, 密钥对, PM｡ 

我会把这个录下来因为这是一个超级重要的看看会出什么问题｡

如果你有这些问题, 那么至少, 你知道这样看起来好多了｡

然后我会保存这个文件｡ 

好吧 所以现在如果我们再次运行SSH命令｡ 

这是不受保护的,

所以我们需要运行shma命令｡

我们开始吧

然后再这样一次, 我们开始吧｡ 

这招奏效了

所以现在我们是SSH到我的亚马逊索引二AMI在我的私人子网｡

所以这真的很好｡ 

我们从Bashian主机进入私有实例,

这很好用, 这很酷｡

但是现在如果我们尝试ping Google帐户, 正如你所看到的,

好吧, 这不起作用｡

内网EC二实例没有对外的Internet访问｡

我们下节课会讲到如何解决这个问题｡

但到目前为止, 我们已经看到了如何使用Bashian主机｡ 

太棒了

我们下节课再见｡

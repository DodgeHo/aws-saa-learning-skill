---
source: 25 - Identity and Access Management (IAM) - Advanced\004 IAM - Resource-based Policies vs IAM Roles_zh.srt
---

师：现在我们来看看IAM角色和基于资源的策略之间的根本区别｡

因此, 对于交叉帐户, 尤其是当您要对S3时段交叉帐户执行API调用时,

您有两个选项｡

您可以将基于资源的策略附加到资源,

例如, S3存储桶上的S3存储桶策略,

或者您可以决定使用可以实际访问资源的角色｡

让我们以这两个选项为例｡ 

在此示例中, 帐户A中的用户可以承担帐户B中的角色,

并且该角色具有访问Amazon

S3存储桶的权限, 或者类似地,

帐户A中的用户可以通过帐户B中Amazon S3存储桶上的存储桶策略访问S3存储桶｡

这两种情况都是有效的,

但有一点区别｡

第一个角色是IAM角色,

它可以访问S3存储桶｡

第二个是S3存储桶策略, 它允许用户｡ 

那有什么区别呢？

当您实际承担一个角色时,

您实际上放弃了所有原始权限, 并获得了分配给该角色的所有权限｡

这一点非常重要｡  这意味着我们, 例如, 承担一个角色,

这个角色可以做任何事情｡

我们现在可以执行角色可以执行的任何操作,

但无法使用原始权限｡

当您使用基于资源的策略时,

主体不承担角色, 因此它不必放弃其权限｡

如果您以帐户A中的用户为例, 他们需要扫描帐户A中的DynamoDB表,

然后将其放入帐户B中的S3存储桶｡

他们可以做的是, 我们应该使用基于资源的策略, 因为这样我们就不必承担角色,

并且我们可以扫描DynamoDB表并写入其他帐户中的S3存储桶｡

随着时间的推移, 越来越多的AWS服务和资源支持基于资源的策略｡

我们有Amazon S3 bucket､ SNS主题､

SQS主题､ Lambda函数等等｡

在使用AmazonEventBridge时,

这一点有很大的不同｡

AmazonEventBridge有规则,

这些规则需要许可才能在目标上执行它想要的任何操作｡

我们有两种目标｡ 

我们拥有支持基于资源的策略的目标, 如Lambda､

SNS､ SQS､ CloudWatch日志､ API网关等｡

在这种情况下, 您应该做的是更改目标资源,

使其具有基于资源的策略, 从而允许EventBridge规则执行任何需要执行的操作｡

第二个选项是, 例如, 对于Kinesis数据流或Systems

Manager运行命令, 或启动ECS任务, 则您需要具有IAM角色｡

因此, IAM角色将附加到EventBridge规则,

并将具有写入Kenesis的权限｡

所以你可能会问我, 我怎么知道？

通过查看文档, 但从考试的角度来看,

您需要了解的所有信息都在这些幻灯片上｡

请记住, SNS､ SQS､ Lambda用于基于资源的策略,

特别是Kenesis数据流, 使用IAM角色｡

好了, 这节课就讲到这里｡ 

我希望你们喜欢它, 我们下节课再见｡

---
source: 10 - Route 53\017 Routing Policy - Multi Value_zh.srt
---

教师：我们来讨论最后一个路由策略,

即多值路由策略, 当您希望将流量路由到多个资源时,

将使用该策略｡

因此, 路由53将返回多个值或资源｡

现在, 您可以将它们与运行状况检查相关联,

因此, 通过多值策略返回的资源将是与运行状况良好的运行状况检查相关联的资源｡

因此, 对于每个多值查询, 最多将返回八个正常记录｡

虽然它看起来像ELB,

但它不能代替ELB｡

其思想是客户端负载平衡｡ 

让我们看一个例子｡ 

我们将为示例设置多个A记录｡

我们将它们与运行状况检查相关联｡

因此, 当我们的客户端执行多值查询时, 它将收到最多八条记录,

然后客户端将选择其中一条｡

但至少通过将此功能与运行状况检查相结合,

我们知道返回的八条记录中有一条（或最多八条）将是健康的｡

因此, 客户端可以非常安全地查询它们｡

这将是不同的, 例如,

当您有一个简单的路由, 其中有多个值, 因为如您所知,

简单的路由策略不允许健康检查, 因此有可能在简单的路由策略的查询返回的资源之一将是不健康的｡

这就是为什么多值作为记录类型功能更强大的原因｡

因此, 让我们在UI中查看一下如何测试它们｡ 

让我们来练习多值记录｡ 

让我们创建一个多记录,

多点等等等等｡

然后它的值将与us-east-1相关联｡

我将在此处添加此值,

然后路由策略将为“多值”｡

运行状况检查将是us-east-1｡ 

而记录将是美国｡ 

TTL为60秒｡ 

让我们添加另一条记录｡ 

因此, multi, 我们将再次路由到另一个区域,

该区域为ap-setheast-1｡

所以答案是多值答案｡ 

运行状况检查是ap-southern-1｡ 

而记录ID将是亚洲｡ 

然后记录TTL是一分钟｡ 

最后, 最后一个, 再一次,

一个记录名称｡

该值将链接到这里的eu-central-1｡ 

TTL为一分钟｡ 

而路由策略是多值答案｡ 

而对于运行状况检查,

我们将使用来自EU-Central-1的一个｡

记录ID为EU｡ 

好的, 我们来创建这些记录｡ 

并且记录已成功创建｡ 

现在让我们来测试一下｡ 

因此, 我们将在这里使用CloudShell｡ 

现在, 让我们重新连接到CloudShell｡ 

而我想做的是测试这张唱片｡ 

所以我会把记录拷贝到这里,

然后我会清空我的屏幕｡

所以如果我在这上面做一个挖掘测试, 我会得到三个答案｡

因此, 这三个IP被返回,

原因是, 这三个运行状况检查完全正常｡

所以如你所见, 他们都很健康｡ 

但是如果我拿其中一个,

比如, 我去掉了eu-central-1,

所以我会把这个变成不健康的, 我会通过编辑来欺骗它,

然后做一个反转健康状态｡

所以这会让健康的人变得不健康,

反之亦然.

这只是一个快速的方法,

我创建一个不健康的健康检查｡

所以让我暂停一下｡ 

好吧, 现在我的欧盟中央一号健康检查结果是不健康｡ 

所以如果我在这里重新发出一个dig命令,

我应该只会看到两个值, 是的, 作为结果｡

所以多值答案起作用了, 而且效果非常好｡

为了恢复此状态, 请编辑此运行状况检查, 然后取消选中此“Invert

health check status”（反转运行状况检查状态）, 就可以开始了｡

好了, 这节课就讲到这里.

希望你喜欢｡ 

我们下节课再见｡

---
source: 08 - High Availability and Scalability ELB & ASG\016 Auto Scaling Groups Hands On_zh.srt
---

鏁欏笀锛氬ソ鐨? 璁╂垜浠粌涔犱娇鐢ˋuto

Scaling缁勶健

瑕佸仛鍒拌繖涓€鐐?

棣栧厛, 璇风‘淇濇偍鐨勫疄渚嬪苟缁堟瀹冧滑,

浠ヤ究鍦‥C2涓繍琛岄浂涓疄渚嬶健

鎺ヤ笅鏉? 鎴戜滑闇€瑕佸垱寤轰竴涓狝uto

Scaling缁勶健

璁╂垜浠繘鍏ュ乏鎵嬭竟鐨凙uto Scaling缁?

鎴戜滑灏嗗垱寤虹涓€涓狝uto Scaling缁勶健

鍥犳, 鍒涘缓Auto Scaling缁?

璁╂垜浠皢Auto Scaling缁勫懡鍚嶄负DemoASG,

鎴戜滑闇€瑕佸紩鐢ㄥ惎鍔ㄦā鏉? 鎵€浠ユ垜鐜板湪瑕佸垱寤轰竴涓惎鍔ㄦā鏉匡健

鎵€浠ュ綋浣犲垱寤轰竴涓惎鍔ㄦā鏉挎椂,

浣犻渶瑕佺粰瀹冧竴涓悕瀛? 鎴戜細缁欏畠涓€涓狹yDemoTemplate,

浠ュ強涓€涓弿杩? Template锝?

濂界殑, 鎴戜滑灏嗗悜涓嬫粴鍔ㄥ苟鎸囧畾涓嶅悓鐨勯€夐」锝?

瀵逛簬鎴戝皢瑕佷娇鐢ㄧ殑Amazon鏈哄櫒鏄犲儚, 鎴戝皢杩涘叆蹇€熷叆闂?

Amazon Linux,

鎴戜細閫夋嫨Amazon

Linux 2, 鐗堟湰涓簒86锝?

濂界殑, 鎴戜滑灏嗕娇鐢ㄧ鍚堝厤璐圭瓑绾ф潯浠剁殑AMI,

杩欏緢濂斤健

鎺ヤ笅鏉? 瀵逛簬瀹炰緥绫诲瀷,

鎴戝皢閫夋嫨t2锝?寰洜涓哄畠鏄厤璐瑰眰鍚堟牸,

鎵€浠ヤ换浣曞厤璐瑰眰鍚堟牸鏄ソ鐨勶健

鎴戝皢鏍规嵁Key瀵瑰悜涓嬫粴鍔?

鎴戝皢鍖呮嫭EC2瀹炰緥, 鍥犳杩欏熀鏈笂瀹氫箟浜嗘垜鐨勫惎鍔ㄦā鏉夸腑鐨凟C2瀹炰緥浠ュ強ASG涓殑EC2瀹炰緥搴旇濡備綍鍚姩锝?

濂界殑, 杩欎簺閫夐」涓庢偍鍦ㄥ崟鐙惎鍔‥C2瀹炰緥鏃剁湅鍒扮殑閫夐」闈炲父鐩镐技锝?

瀵逛簬瀹夎, 鎮ㄤ笉灏嗗叾鍖呭惈鍦ㄥ惎鍔ㄦā鏉夸腑锝?

瀵逛簬闃茬伀澧欏畨鍏ㄧ粍,

鎮ㄥ彲浠ラ€夋嫨涓€涓幇鏈夌殑瀹夊叏缁?

渚嬪launch-wizard-1锝?

浣犳湁8GB鐨凣P2鍗?

杩欐槸濂界殑锝?

鐒跺悗瀵逛簬楂樼骇璇︾粏淇℃伅, 鎴戝皢涓€鐩村悜涓嬫粴鍔?

鎴戝皢鎵惧埌鎴戠殑鐢ㄦ埛鏁版嵁, 瀵逛簬鐢ㄦ埛鏁版嵁, 鎴戝皢杈撳叆鎴戜滑涔嬪墠浣跨敤鐨勭敤鎴锋暟鎹? 鍥犳鎵€鏈夎繖浜?

杩欏皢鍏佽鍦ㄦ瘡涓狤C2瀹炰緥涓婂垱寤篧eb鏈嶅姟鍣ㄤ綔涓篈SG鐨勪竴閮ㄥ垎锝?

鎴戜滑鍙互寮€濮嬩簡,

璁╂垜浠垱寤鸿繖涓惎鍔ㄦā鏉? 瀹冨凡缁忓垱寤哄ソ浜?

绉颁负MyDemoTemplate锝?

鎴戣鍒锋柊瀹冨苟鍦ㄨ繖閲岄€夋嫨瀹冿健

鎵€浠ユ垜浠湁MyDemoTemplate鐗堟湰1锝?

鎴戜滑鏈夊畠鐨勬憳瑕?

鎴戜滑鐐瑰嚮涓嬩竴姝ョ户缁健

鍥犳, 鎴戜滑閫夋嫨瀹炰緥鍚姩閫夐」,

鎴戜滑鏈変竴涓猇PC,

杩欐槸榛樿鐨刅PC,

浠ュ強鍚姩鍒颁笁涓笉鍚岀殑VPC鐨勮兘鍔? 鎵€浠u-west-1a,

1b鍜?c锝?

瀹炰緥瑕佹眰锝?

鎵€浠ユ垜浠湁閭ｄ簺鎻愪緵鐨勬ā鏉? 杩欐槸涓€涓猼2锝?

浣嗗鏋滄垜浠兂鐨勮瘽,

鎴戜滑鍙互瑕嗙洊瀹冧滑, 濂藉悧

褰撴偍瑕嗙洊瀹冧滑鏃?

鎮ㄥ彲浠ユ寚瀹氬嵆鏃跺睘鎬ф垨鎵嬪姩娣诲姞瀹炰緥绫诲瀷锝?

鎮ㄥ彲浠ユ贩鍚堜娇鐢ㄩ殢闇€搴斿彉瀹炰緥鍜岀幇鍦哄疄渚?

浠ュ強涓嶅悓瀹炰緥绫诲瀷鐨勬贩鍚堬健

鎵€浠ヨ繖鑲畾鏄洿楂樼骇鐨?

浣嗙幇鍦ㄦ垜浠皢瀹冧綔涓篖aunch妯℃澘涓殑瀹炰緥绫诲瀷瑕佹眰,

鍥犳鎴戜滑灏嗗叾浣滀负t2锝?

鍙湁micro

璁╂垜浠偣鍑籒ext锝?

鐒跺悗鎴戜滑鍙互閰嶇疆楂樼骇閫夐」,

鍥犳璐熻浇鍧囪　鏄彲閫夌殑,

鍥犳鎴戜滑鍙互鍦ㄦ病鏈夎礋杞藉潎琛″櫒鐨勬儏鍐典笅鍒涘缓ASG,

骞朵笖鏈変竴浜涚敤渚? 濂藉悧锛?

浣嗘槸鎴戜滑宸茬粡鏈変簡涓€涓礋杞藉潎琛″櫒, 鎵€浠ユ垜浠闄勫姞鍒颁竴涓幇鏈夌殑璐熻浇鍧囪　鍣?

瀹冨皢浠庢垜鐨凞emoALB搴旂敤绋嬪簭鍧囪　鍣ㄤ腑閫夋嫨鎴戠殑绗竴涓洰鏍囩粍锝?

杩欐牱浣滀负ASG鐨勪竴閮ㄥ垎鍚姩鐨凟C2瀹炰緥灏卞彲浠ョ洿鎺ラ摼鎺ュ埌鎴戠殑搴旂敤绋嬪簭璐熻浇鍧囪　鍣健

瀵逛簬鍋ュ悍妫€鏌? 杩欐槸鍙€夌殑,

浣嗘垜浠湁涓ょ鍋ュ悍妫€鏌? 绗竴绉嶆槸EC2鍋ュ悍妫€鏌ワ健

鍥犳, 濡傛灉鎴戠殑EC2瀹炰緥鍙戠敓鏁呴殰,

瀹冨皢鑷姩浠庢垜鐨凙uto Scaling缁勪腑鍒犻櫎, 鎴戜滑杩樺彲浠ュ惎鐢‥LB绫诲瀷鐨勫仴搴锋鏌?

骞跺皢鍏朵繚鎸佸惎鐢ㄧ姸鎬侊健

鍥犳, 濡傛灉ELB璁や负瀹炰緥涓嶅仴搴?

閭ｄ箞ASG灏嗚嚜鍔ㄧ粓姝㈠畠锝?

濂界殑, 鎴戜滑涓嶄細鍚敤浠讳綍鍏朵粬璁剧疆锝?

鐐瑰嚮涓嬩竴姝ワ健 

杩欏氨鏄綘璁剧疆ASG缁勫ぇ灏忕殑鍦版柟锝?

鎵€浠esired capacity鏄?鏈€灏忓閲忔槸1,

鏈€澶у閲忔槸1, 杩欐剰鍛崇潃鎴戜滑鍦ˋSG涓湁涓€涓疄渚?

浣嗘槸濡傛灉鎴戜滑鍙互鎸囧畾10浣滀负鏈€澶у閲?

杩欏皢鍏佽鎴戜滑鍦?鍜?0涔嬮棿鎷ユ湁涓嶅悓澶у皬鐨凙SG瀹归噺锝?

浣嗘垜鐜板湪浼氭妸鎵€鏈夌殑閮戒繚鎸佷负1锝?

鐜板湪鎴戝皢瀹冧繚鎸佷负鏃? 浣嗘垜浠◢鍚庡皢璇︾粏浠嬬粛瀹冧滑锝?

璁╂垜浠偣鍑籒ext锝?

娌℃湁閫氱煡, 娌℃湁鏍囩,

鎴戜滑瀹℃煡涓€鍒?

鐒跺悗鎴戜滑鐐瑰嚮鍒涘缓Auto

Scaling缁勶健

濂戒簡, 鎴戠殑Auto Scaling Group宸茬粡鍒涘缓,

鎺ヤ笅鏉ヨ鍋氱殑灏辨槸涓烘垜鍒涘缓涓€涓狤C2瀹炰緥锝?

鎵€浠ヨ繖閲岀殑鎯虫硶鏄? 濡傛灉鎴戠偣鍑绘垜鐨勮嚜鍔ㄤ睛瀵熺粍,

鎴戜滑寰楀埌涓€浜涚粏鑺?

鎴戜滑鍙互鐪嬪埌鎵€闇€鐨勬渶灏忓拰鏈€澶у閲?

浠ュ強鐢ㄤ簬姝SG鐨勫惎鍔ㄦā鏉匡健

鐒跺悗濡傛灉鎴戣繘鍏ユ椿鍔? 杩欏氨鏄湁瓒ｇ殑浜嬫儏鍙戠敓鐨勫湴鏂癸健

鎵€浠ュ綋ASG鍐冲畾鍒涘缓涓€涓狤C2瀹炰緥鏃?

瀹冧細鍑虹幇鍦ˋctivity閫氱煡涓?

鎵€浠ュ鏋滄垜鍒锋柊瀹? 寰堝揩, 瀵逛笉璧? 鍦ˋctivity鍘嗗彶璁板綍涓健

鍥犳, 濡傛灉鎴戝埛鏂癆ctivity鍘嗗彶璁板綍,

閭ｄ箞鎴戝彲浠ョ湅鍒拌繖閲屾湁涓€涓狶aunching a new instance,

鍥犱负Auto Scaling缁勭殑瀹归噺涓?, 鑰屾垜浠兂瑕?涓閲? 鎵€浠ュ畠鍙槸澧炲姞ASG涓殑EC2瀹炰緥鏁伴噺, 浠ュ尮閰嶆墍闇€鐨勫閲忥健

鍥犳, 濡傛灉鎴戣浆鍒伴€夐」鍗nstance

Management,

姝ｅ鎴戜滑鎵€鐪嬪埌鐨? ASG鍒涘缓浜嗕竴涓狤C2瀹炰緥锝?

鍥犳, 濡傛灉鎴戜滑杞埌姝ゅ鐨勨€滆繍琛屸€濋€夐」鍗?

鎴戜滑鍙互鐪嬪埌EC2瀹炰緥褰撳墠姝ｅ湪杩愯骞舵鍦ㄥ垵濮嬪寲锝?

鎵€浠ヨ繖寰堥叿锝?

鐜板湪寰堥叿鐨勪簨鎯呮槸,

鍥犱负鎴戜滑宸茬粡灏咥SG璁剧疆涓洪摼鎺ュ埌鐩爣缁? 鎵€浠ュ鏋滄垜浠浆鍒板乏渚х殑鐩爣缁? 鎵惧埌鎴戠殑绗竴涓洰鏍囩粍,

鐒跺悗杞埌鐩爣, 鎴戠殑EC2瀹炰緥姝ｅ湪琚敞鍐? 鎴戝皢鎵╁睍瀹? 鎴戠殑EC2瀹炰緥姝ｅ湪琚敞鍐屽埌鎴戠殑ALB涓健

鎵€浠ョ幇鍦ㄥ畠鏄剧ず涓轰笉鍋ュ悍,

鍥犱负瀵硅薄澶辫触, 鍥犱负EC2瀹炰緥浠嶇劧鍦ㄥ紩瀵硷健

浣嗗鏋滆繃浜嗕竴娈垫椂闂? 瀹冧細琚樉绀轰负鍋ュ悍,

鐒跺悗灏嗚娉ㄥ唽鍒版垜鐨凙LB锝?

鎵€浠ヨ鎴戞殏鍋滆棰戠瓑寰咃健 

濂戒簡, 鎴戠殑瀹炰緥鐜板湪鏄仴搴风殑, 鐒跺悗濡傛灉鎴戝幓鎴戠殑ALB骞跺埛鏂?

鎴戜細寰楀埌Hello World鍝嶅簲, 杩欐剰鍛崇潃涓€鍒囬兘鍦ㄨ繍琛? 瀹炰緥鏄敱ESG鍒涘缓鐨勶健

鎴戜滑鍙互鍦‥C2鎺у埗鍙颁腑鐪嬪埌瀹?

瀹冭娉ㄥ唽鍒伴摼鎺ュ埌鎴戜滑鐨勮礋杞藉潎琛″櫒鐨勭洰鏍囩粍涓?

鍥犳鎴戜滑鐨勮礋杞藉潎琛″櫒瀹屽叏宸ヤ綔锝?

鐜板湪, 濡傛灉瀹炰緥姘歌繙涓嶄細鍙樺緱鍋ュ悍,

瀹冨氨浼氬彉寰椾笉鍋ュ悍,

閭ｄ箞鍥犱负鎴戜滑璁剧疆浜咥SG鏉ョ粓姝笉鍋ュ悍鐨勫疄渚? 鎮ㄥ皢鐪嬪埌鐨勬槸瀹炰緥灏嗚缁堟,

骞跺皢鍒涘缓涓€涓柊鐨勫疄渚嬶健

鍥犳, 鎮ㄥ皢涓昏鍦ㄦ椿鍔ㄥ巻鍙蹭腑鐪嬪埌杩欎竴鐐癸健

濡傛灉鎮ㄧ‘瀹炴湁杩欎釜闂,

閭ｄ箞鍙戠敓杩欑鎯呭喌鐨勫師鍥犳槸鎮ㄧ殑EC2瀹炰緥閰嶇疆閿欒锝?

杩欏彲鑳芥槸瀹夊叏缁勯棶棰? 涔熷彲鑳芥槸EC2鐢ㄦ埛鏁版嵁鑴氭湰闂锝?

鎵€浠ヨ鍦≦&A涓彁闂箣鍓嶆鏌ヨ繖浜涳健

濂藉惂, 浣嗚繖浜涙槸浣犲簲璇ョ姱鐨勯敊璇健

鎵€浠ョ幇鍦ㄦ垜浠湁涓€涓狤C2瀹炰緥, 瀹冩鍦ㄦ湇鍔′腑锝?

鎴戜滑鍙互鍋氱殑鏄?

鎴戜滑鍙互閫氳繃缂栬緫Auto Scaling缁勫ぇ灏忔潵浣撻獙缂╂斁锝?

鎵€浠ユ垜浠渶瑕佷袱涓疄渚? 鎵€浠ユ垜浠篃蹇呴』澧炲姞鏈€澶у閲忥健

鎵€浠ユ垜浠細鏇存柊杩欎釜锝?

鐜板湪鎴戜滑鍛婅瘔ASG鐨勬槸,

鎴戜滑甯屾湜鎮ㄤ负鎴戜滑鍒涘缓涓€涓垨澶氫釜EC2瀹炰緥锝?

鍥犳, 濡傛灉鎮ㄨ浆鍒癆ctivity鍘嗗彶璁板綍,

鐒跺悗鍒锋柊瀹? 寰堝揩灏变細鏄剧ず涓€涓柊鐨凙ctivity, 瀹冨皢灏濊瘯鍚姩EC2瀹炰緥锝?

鐜板湪, 瀹冩樉绀篖aunching

a new EC2 instance,

鍥犱负鎮ㄥ凡缁忓皢鏈熸湜瀹归噺浠?鏇存敼涓?, 鑰屾垜浠殑ASG涓殑瀹為檯瀹炰緥鏁板彧鏈?锝?

鐜板湪, 姝ｅ鎮ㄦ墍鐪嬪埌鐨?

鎴戜滑鍒涘缓浜嗙浜屼釜EC2瀹炰緥, 杩囦竴娈垫椂闂?

瀹冨皢琚敞鍐屽埌鎴戜滑鐨勭洰鏍囩粍涓苟娣诲姞锝?

鎵€浠ユ垜浼氭殏鍋滆棰戣杩欎釜杩囩▼鍙戠敓锝?

濂戒簡, 鎴戠殑瀹炰緥鐜板湪鏄仴搴风殑锝?

鎵€浠ュ鏋滄垜鍘绘垜鐨凙LB骞跺埛鏂?

姝ｅ鎴戜滑鎵€鐪嬪埌鐨? 鎴戝緱鍒颁簡涓や釜IP, 瀹冧滑寰幆閫氳繃鎴戠殑ALB锝?

涓€鍒囬兘寰堥『鍒╋健 

鏈€鍚庝竴浠朵簨, 濡傛灉鎴戜滑杞埌娲诲姩,

鎴戜滑鍙互鐪嬪埌杩欎袱涓疄渚嬪凡鎴愬姛鍚姩锝?

鐜板湪璁╂垜浠弽杩囨潵,

鎴戜滑灏嗛€氳繃灏咲esired capacity鎭㈠涓?鏉ョ缉鍑忓閲? 骞舵洿鏂板畠, 瀹冧細璇? 鈥滃樋,

鐪嬭捣鏉ヤ綘鏈変袱涓疄渚? 浣嗙幇鍦ㄤ綘鍙渶瑕佷竴涓? 鎵€浠ユ垜瑕佸湪杩欓噷閫夋嫨杩欎袱涓疄渚嬩腑鐨勪竴涓苟缁堟瀹冧滑锝?

鍥犳,

姝ｅ鎮ㄥ湪杩欓噷鐪嬪埌鐨?

瀹冭, 鈥滅敱浜嶢SG鐨勯厤缃洿鏀?

鎴戞鍦ㄧ粓姝㈠叾涓竴涓疄渚嬧€? 骞跺皢缁堟璇ュ疄渚? 鐒跺悗灏嗗叾浠庣洰鏍囩粍涓敞閿€锝?

鐒跺悗鎴戜滑灏嗚繑鍥炲埌ASG涓彧鏈変竴涓狤C2瀹炰緥锝?

杩欏氨鏄繖鑺傝鐨勫唴瀹?

浣犱滑宸茬粡鐪嬪埌浜咥SG鐨勫叏閮ㄥ姏閲?

鎴戜滑涓嬭妭璇句細璁插埌鑷姩缂╂斁锝?


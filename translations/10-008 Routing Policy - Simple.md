---
source: 10 - Route 53\008 Routing Policy - Simple_zh.srt
---

教师：现在我们来讨论53号公路的路由策略｡

因此, 路由策略帮助Route

53响应DNS查询, 我们不应对“路由”一词感到困惑｡

这与您有负载平衡器的情况不同, 实际的负载平衡器会将流量路由到后端EC2实例｡

不, 不, 不, 不, 不, 不, 不

此路由是从DNS的角度进行的｡ 

因此DNS不响应, 不路由任何流量｡ 

这样流量就不会通过DNS｡ 

例如, DNS只会响应DNS查询,

然后客户端将知道它们应该以哪种方式进行这些HTTP查询｡

因此, DNS只是帮助将主机名转换为客户端可以使用的实际端点｡

因此, Route 53将支持以下路由策略｡ 

有简单､ 加权､ 故障转移､ 基于延迟､

地理定位､ 多值答案和地理邻近性｡

我们将在这一节中对它们进行详细介绍｡

第一个是简单路由策略｡ 

我们的想法是, 通过这个, 我们以前实际上已经使用过了,

我们将把流量路由到一个典型的资源｡

这里有一个例子｡ 

客户会说, 嘿, 我想去foo｡

示例中｡  然后Routes53会说,

嘿, 转到这个IP地址｡

而这是一张A级唱片｡ 

因此, 我们可以在同一条记录中指定多个值｡

如果是这样, 如果DNS返回多个值,

则客户端或客户端侧将选择随机值｡

在这个例子中, 客户端再次请求foo｡

示例中｡  而AmazonRoute53将仅用嵌入到A记录中的三个IP地址来回复｡

然后, 客户端将随机选择其中一个并将其应用于路由｡

因此, 如果您在简单策略旁边启用了别名记录,

则只能将AWS资源指定为目标｡

最后, 它之所以被称为简单, 是因为它非常简单｡ 

因此, 您无法将此与运行状况检查联系起来, 我们将在本节稍后部分了解运行状况检查及其工作原理｡

现在, 让我们进入控制台, 看看如何创建step

simple路由策略｡

我们来创建一条记录, 记录名称将很简单｡

斯蒂芬老师｡  com的网站｡ 

这是一个A记录, 它的值是, 例如, 我在ap-seouthern-1中的实例｡

现在对于TTL, 它将表示非常低的值,

例如20秒｡

路由策略将在这里｡ 

如您所见, 我们有不同的可能性,

其中六种, 还有一种在UI中的其他位置｡

因此, 我们有一个TTL 20秒作为简单的写入策略,

让我们创建此记录｡

我们以前也这么做过｡ 

我们知道这是怎么回事｡ 

所以现在我们如果去简单｡  斯蒂芬老师｡  com的网站｡ 

转到这个URL, 我们从我在ap-seoustern-1b的实例中得到Hello

World, 这太棒了｡

而如果我们做一个挖掘命令并看看, 那么我们需要重新安装挖掘｡

所以sudo yum安装绑定实用程序｡ 

这是因为我在这里重新启动了我的机器｡ 

好的, 我们要重做dig命令｡ 

所以我们在这上面执行dig命令｡ 

正如我们所看到的, 我们有一个指向此IP的20秒TTL的A记录｡

但我们现在可以改变这个记录了｡ 

我们要编辑唱片｡ 

因此, 我只需单击它并编辑记录｡ 

对于值, 现在, 我可以输入多个IP｡ 

例如, 我可以在ap-seast-1中插入一个,

或者在us-east-1中插入一个｡

所以当我这样做并保存它时,

会发生的是一旦TTL从之前过期,

我们会得到两个记录｡

因此, 让我们使用CloudShell来验证这一点｡ 

所以我要执行一个挖掘命令｡ 

正如你所看到的,

现在我们在交叉点, 我们有两个答案｡

我们在此IP中有一个, 在此IP中有一个｡ 

所以这是客户端的选择｡ 

所以这意味着如果我去这个网站, 并刷新,

我有一个机会在两个进入我们-东-1｡

但我没有｡ 

所以我回到了东南1b,

但让我暂停20秒, 我会回来给你｡

我在提神｡ 

我从我们那里拿回了你好世界-东-1a｡ 

所以这起作用了｡ 

这绝对说明了简单记录是如何工作的｡ 

我希望你们喜欢, 下节课再见｡

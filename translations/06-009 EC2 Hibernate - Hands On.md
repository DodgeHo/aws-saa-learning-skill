---
source: 06 - EC2 - Solutions Architect Associate Level\009 EC2 Hibernate - Hands On_zh.srt
---

教师：那么让我们练习使用EC2的休眠特性｡

让我们启动一个实例｡ 

我会选择Amazon Linux 2｡ 

我去T2｡  micro我来选一对钥匙

然后, 对于网络安全,

我将只使用现有的安全组, 即launch-wizard-1和存储,

现在我们很好｡

我将向您展示一些我们必须设置的东西,

但我将向下滚动, 然后停止休眠行为｡

我们可以使之成为可能｡ 

这将允许我们在EC2实例上启用休眠｡

有一条警告信息｡ 

你不能在这里读到它,

但它说如果你启用休眠, 那么你需要确保根卷有足够的存储空间来容纳我们的EC2实例的RAM｡

在此之上, EBS卷,

根EBS卷必须加密｡

首先, 关于存储,

我将转到高级, 选择我的EBS卷,

我会, 是的, 我会加密它,

我会选择默认的AWS/EBS密钥来加密它｡

因此, 现在我们的EBS卷已正确设置,

然后我们有一个8 GB的卷｡

这是足够的存储量, 因为如果我们看这个t2｡

micro,

这里说有1GB的RAM内存｡

所以所有的RAM都适合放在磁盘上, 这对我们有好处｡ 

所以我们已经设置好了启动休眠所需的一切｡

现在我要做的就是启动我的实例｡ 

所以我们的实例现在已经创建好了,

我们已经启用了休眠作为一个特定的恒星行为｡

那么, 我们如何证明冬眠是有效的呢？

让我们使用EC2实例连接来连接我们的实例,

我现在就连接｡

我将回到我的实例中, 开始吧｡ 

所以我们使用EC2实例连接连接到我们的实例｡

有一个名为“”的命令非常特殊, 因为“可以让您知道实例已打开了多长时间｡

所以如果你做了, 它说现在它已经启动了零分钟｡

所以我们只需要等待一点时间, 让它变成一分钟｡

但其思想是, 该实例告诉您自上次重新启动以来该实例已运行了多长时间｡

所以我们现在可以看到, 我们做了一分钟,

我们得到了一分钟｡

这意味着实例已经运行了一分钟｡ 

好的太好了

所以让我们从实例断开连接, 我们现在要做的是,

我们要休眠实例｡

所以要做到这一点,

我们做即时状态, 然后休眠实例,

这将确保所有的数据在RAM存储到我们的EBS卷｡

所以我们正在休眠实例,

所以我们需要等待它停止｡

所以我们的实例现在停止了,

我要重新启动它｡

现在, 如果我们做一点心理练习,

如果我们没有休眠, 然后我们停止了实例,

然后我们再次启动它, 我们期望tcp命令再次返回零分钟,

然后一分钟, 因为我们已经有效地停止并启动了实例｡

但是我们已经休眠了实例, 然后启动了它｡ 

如果是这样的话,

那么我们应该可以让, 不是从零开始, 而是从三四分钟开始｡

因此, 让我们连接到实例并执行扩展｡ 

是的, 我们站起来两分钟,

因为我真的很快｡

所以这个想法是, 即使我们已经停止了,

引用unquote通过休眠它来停止实例,

并从操作系统的角度重新启动它, 实例从未停止过｡

它冬眠了｡ 

因此, 休眠命令给你两三分钟的时间,

因为从操作系统的角度来看, 它从来没有被停止过,

这就是休眠背后的整个思想｡

就这样

这是一个很酷的演示, 我认为｡ 

要完成这个动手,

只需采取您的实例并终止它｡

就这样, 我们下次课再见｡

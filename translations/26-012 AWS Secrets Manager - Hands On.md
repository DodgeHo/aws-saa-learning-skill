---
source: 26 - AWS Security & Encryption KMS, SSM Parameter Store, Shield, WAF\012 AWS Secrets Manager - Hands On_zh.srt
---

教师：现在我们来谈谈Secrets

Manager服务｡

因此, 正如我们所看到的,

它可以在整个生命周期中轻松地轮换､ 管理和检索秘密｡

它与SSM参数存储区类似, 因为您可以存储机密内容,

但它与SSM参数存储区不同, 因为它具有轮换､

管理功能, 并与MySQL､ PostgreSQL､ Amazon Aurora和RDS等数据库紧密集成｡

所以, 价格是你有一个30天的免费试用, 然后你要支付0美元｡

每个秘密40美元,

每个月, 然后0美元｡ 每10, 000个API调用中有05个｡ 

因此, 如果您再次希望保留在自由层中, 只需创建一个机密,

然后将其删除｡

现在, 让我们存储一个新的密码,

然后选择密码类型｡

现在, 随着时间的推移,

很可能在集成能力方面会有所提高, 但我们有Amazon

RDS, 我们有Amazon DocumentDB,

Amazon Redshift, 其他数据库, 或其他类型的机密｡

因此, 如果您使用Amazon RDS, 如您所见,

它会提示您输入用户名和密码等｡

比如说, 对于其他类型的秘密,

我们可以存储任何我们想要的东西｡

比如说, 我可以说MySecretKey,

然后是MyVerySecretValue,

这是一个存储在这里的秘密.

另一个可以是API_KEY, 也可以是API密钥,

因此您可以在此处输入一些文本｡

因此, 您可以通过此UI输入,

也可以输入纯文本格式, 并且您可以编辑相邻文档｡

要编辑密钥值, 这只是指定机密的另一种方式｡

因此, 这将被保密, 以便只有具有正确IAM权限的人才能访问这些机密｡

然后指定加密密钥｡ 

因此, 我们有一个默认的,

但你可以使用自己的KMS密钥, 如果你想｡

我单击“下一步”｡ 

那我们得给秘密起个名字｡ 

例如, prod/my-secret和描述,

但我不需要它｡

资源权限, 那么我们是否希望有一个策略来限制谁可以访问机密？

由于这里的资源策略, 它可以跨AWS帐户,

您可以将其放在相邻的表单中｡

因此, 它类似于S3存储桶策略｡ 

然后您可以选择跨区域复制秘密｡

如果你想拥有多区域设置, 比如多区域应用程序或多区域数据库,

这是很好的选择｡

在这里我们可以说,

“好的, 我想使用这里的加密密钥将其复制到us-west-2, 并复制到AP

Southeast-1, 以此类推｡

所以, 我不打算这么做,

但这是你复制秘密的方法｡

然后, 我单击“Next（下一步）”｡ 

然后你想自动轮换我们的秘密,

是或不是｡

我们什么时候要旋转它, 如果我们启用了旋转,

那么我们需要指定一个旋转函数｡

这是一个Lambda函数,

将执行此旋转｡

所以现在先把它关掉｡ 

然后我们看看｡ 

所以, 我们有个秘密｡ 

它被复制到了西二号｡ 

这里有一些代码, 如果我们想调用并从客户端获取秘密｡

我不会继续创建这个,

但如你所见, 它会存储一个秘密然后用这个代码在你的代码中检索正确的秘密.

所以, 我们取消这个｡ 

您可以拥有的另一种秘密是Amazon

RDS数据库的凭据｡

因此, 您需要创建一个用户名和密码,

然后指定一个数据库｡

最酷的一点是,

由于RDS和Secrets

Manager之间的集成, 因此可以使用此用户名和密码登录到数据库｡

如果你想旋转它,

那么数据库也会自动更新｡

所以, 在这里你要输入它｡ 

然后, 如果您希望进行某种类型的多区域复制,

则还需要配置密码｡

如果你想复习的话, 也可以旋转, 这样就完成了｡ 

这节课就讲到这里｡ 

我希望你们喜欢, 下节课再见｡

---
source: 29 - More Solution Architectures\002 Caching Strategies in AWS_zh.srt
---

解说员：好的, 让我们来谈谈AWS上的缓存策略,

以及它们的含义｡

这是我刚才描述的典型解决方案体系结构,

显然, 它对您来说可能会非常不同｡

但我们知道一些事｡ 

因此, 我们在API网关前面有CloudFront, 它在我们的应用程序逻辑前面,

可以是EC2, 也可以是Lambda｡

我们的应用程序存储和使用来自数据库的数据, 也许你会使用一个内部缓存,

如Redis, Memcached和DAX｡

然后, 这就是动态路由, 或所有动态内容｡

还有一个美学内容路径, 我们的客户端通过CloudFront,

CloudFront将从S3获取数据｡

这是我们已经看到的, 这不是很新｡ 

但我想谈的是您拥有的所有缓存策略及其含义｡

因此, 如果我们看一下CloudFront,

这里的两个CloudFront在边缘进行缓存｡

这意味着他们尽可能靠近我们的用户进行缓存｡

这意味着, 如果我们在CloudFront中启用缓存,

并且用户确实命中了缓存, 那么他们会立即得到响应, 这非常非常快｡

但是因为它处于边缘, 所以后端的情况有可能发生变化,

显然这里的东西已经过时了｡

因此, 我们可以使用TTL来确保缓存经常更新,

并从后端获取新的内容｡

因此, 我们需要在边缘的缓存量与应用逻辑中的缓存量之间进行平衡｡

好的, 接下来, 我们转到API网关｡ 

而且API网关还具有一些缓存功能, 因此不必与CloudFront一起使用｡

因此, API网关是一个区域性服务,

如果我们在API网关使用缓存, 则缓存将是区域性的｡

这意味着, 如果缓存命中此处,

则客户端和API网关之间将存在网络｡

然后是应用程序逻辑｡ 

我们的应用程序逻辑通常不进行任何缓存, 但它会在缓存中进行缓存,

如果我们有DynamoDB, 我们可以使用Redis､

Memcached或DAX｡

这里的想法是, 我们不想重复访问我们的数据库,

因为它没有任何缓存功能｡

我们希望确保将频繁查询或复杂查询的结果存储到共享缓存中,

以便您的应用逻辑更轻松地访问｡

因此, 我们通过使用缓存来节省成本｡ 

我们正在减轻数据库的压力,

并增加读取容量｡

最后, 我希望您注意到,

在Amazon S3等的数据库中没有缓存功能｡

因此, 当我们沿着这条高速缓存线移动时,

我们移动得越多, 需要花费的计算量就越大,

延迟也就越大｡

因此, 这完全取决于您, 缓存没有正确或错误的方法｡

这完全取决于您想要实现什么以及如何设置应用程序以实现该行为｡

因此, 关键在于选择要在何处缓存内容我们要如何缓存内容,

我们要将内容缓存多长时间, 然后, 我们是否可以接受一些延迟, 以及我们实际上要缓存哪些内容？

因此, 本课程并不是“你应该这样做”,

它只是希望向你展示在AWS上进行缓存有很多不同的方法,

这实际上取决于具体的场景,

以确定缓存在哪里最合适､

最有效｡

好了, 就这样, 我们下节课见｡

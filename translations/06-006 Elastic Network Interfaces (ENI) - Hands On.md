---
source: 06 - EC2 - Solutions Architect Associate Level\006 Elastic Network Interfaces (ENI) - Hands On_zh.srt
---

讲师：让我们来练习弹性技术接口,

为了做到这一点, 让我们继续启动两个实例｡

所以我可以向下滚动, 亚马逊Linux

2, t｡ 2. micro.

我随便选一个密钥对, 没关系｡ 

对于网络设置,

我将只使用现有的安全组, 这是我的启动向导之一｡

这太棒了

然后我将在这里启动两个实例,

然后单击启动实例｡

所以我想向你们展示的是, 从这些实例中,

我们将得到这两个, 在网络下, 如果我们向下滚动,

我们将看到网络接口｡

所以每个实例都有一个网络接口,

我们有一个接口ID｡

这里有一个网卡和一个ID

每个接口包含一个公共IPv4､ 一个私有IPv4和一个私有IPv4

DNS｡

正如我们所看到的, 如果我们在左手边,

那么在两个实例中, 我们将有两个不同的网络接口｡

如果你去左手边,

在网络和安全性,

我们也将有网络接口｡

在这里我们可以找到两个弹性网卡,

其中一个将连接到我们的EC2实例, 我们可以通过查看右侧来了解它, 状态为inuse,

我们可以看到它们链接到不同的实例ID｡

我们可以做的一件事就是创建一个新的网络接口｡

在这种情况下, 我们可以给出我们的描述｡ 

演示一下ENI｡ 

我们可以为弹性网卡选择一个子网｡ 

所以它链接到一个特定的AZ,

我将选择我的EC2实例所在的AZ,

所以us-east-2a｡

所以我们来选, 不是这一个, 是这一个｡ 

然后, 我们想要自动分配一个私有IPv4, 但我们也可以自定义并说,

我们想要在IPv4中使用哪个IPv4,

所以我们将使用自动分配｡

然后我们可以将安全组附加到我们的弹性网卡上｡ 

现在我们开始创建这个网络接口｡ 

现在我们已经创建了一个新的网络接口,

它就在这里, 演示网卡, 它是可用的｡

因此, 正如我们现在所看到的, 我们基本上已经创建了一个二级私有IPv4｡

我们能做的就是把它附加到我们的实例上,

这样我们就可以执行操作, 附加并选择一个实例来附加它｡

所以我会选择这一个并附上它｡ 

现在, 如果我们转到我们的实例并刷新,

让我们回到我们的实例并刷新｡

我们进入网络并向下滚动｡ 

所以这次, 我很幸运｡ 

它有两个网络接口｡ 

其中一个是主要的, 它给了我们一个公共IPv4和一个私有IPv4｡

这个演示的弹性网卡为我们提供了一个辅助的私有IPv4｡ 

那你为什么要这么做

我们可以控制这个弹性网卡, 因此我们可以将它从一个EC2实例移动到另一个实例,

假设两个EC2实例运行相同的应用程序, 我们希望使用私有IPv4访问它们｡

然后我们可以把网卡移过去｡ 

这样做的原因是, 我们可以通过移动弹性网卡在两个实例之间进行非常快速和简单的网络故障切换,

因为我们可以将IPv4从一个实例连接到另一个实例｡

让我们来做一个演示｡  所以我要把这个弹性网卡｡ 

我要把它拆下来｡ 

是的, 分离｡ 

一旦它在几秒钟内被分离, 我们就可以将它重新连接到另一个实例,

顺便说一下, 这样分离它可能会有问题｡

所以我能做的就是点击它,

然后用力分离来操作分离｡

我们开始吧

刷新后, 所有错误信息都消失了｡ 

我们可以做动作, 附加, 然后我们可以选择另一个实例来附加它,

然后确保是的, 这是另一个｡

所以我要把它附加到另一个实例, 现在它被附加了｡

因此, 正如我们现在所看到的, 如果我刷新这个,

从两个网络接口, 将只有一个｡

另一个实例现在有两个网络接口｡ 

这个演示的弹性网卡I已经转移到了我的另一个实例上,

所以我们可以看到如何使用弹性网卡在实例之间进行故障转移,

我认为这真的非常非常酷,

但它是先进的, 好吧｡

你得自己练习｡ 

最后, 如果我们继续并终止这些实例, 那么让我们终止它们,

看看会发生什么｡

所以他们正在关闭, 现在从ENI,

你认为会发生什么？

所以我们现在有三个弹性网卡,

两个是在我的EC2实例旁边创建的,

一个是手动创建的｡

也许你猜对了

所以接下来会发生的是,

我手动创建的弹性网卡将保留｡

而与实例一起创建的两个弹性网卡将被自动删除｡

因此, 通过创建您自己的ENI,

您可以更好地控制您的私有IPv4和网络｡

这在某些类型的高级用例中可能会有所帮助｡

所以我们可以看到ENI何时消失,

另一个应该很快消失｡

这就是这次实践的全部内容｡ 

如果您愿意, 可以保留弹性网卡, 也可以删除弹性网卡｡

它不会花费你任何钱｡ 

这就是这次实践的全部内容｡ 

希望你喜欢｡ 

我们下节课再见｡

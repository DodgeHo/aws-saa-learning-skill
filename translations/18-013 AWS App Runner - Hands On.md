**学习目标**
- 了解使用 App Runner 从容器镜像快速创建服务的步骤
- 掌握部署配置（vCPU/内存、端口、自动部署与运行状况检查）与清理方法

**重点速览**
- 可从 Amazon ECR (私有/公共) 或源码仓库（如 GitHub）部署
- 配置项包括容器端口、vCPU 与内存、自动部署策略、并发与扩缩参数
- 控制台提供日志、活动、指标与自定义域名绑定，删除服务时直接从控制台执行删除

**详细内容**
Hands-on 流程要点：
1. 选择部署来源（本例为 ECR Public 的 HTTPD 镜像）并填写镜像地址。
2. 配置部署：选择手动或自动部署、设置 vCPU 与内存（例如 1 vCPU + 2GB）、端口（常为 80）、环境变量及健康检查。
3. 确认自动扩缩设置（例如最小 1 到最大 25 实例）和并发配置，然后创建并部署服务。
4. 部署完成后可访问默认域名，查看日志与指标；若不再需要，控制台可直接删除服务（输入 delete）。

**自测问题**
- App Runner 部署时如何指定容器入口端口？
- 如果希望自动从 GitHub 部署代码，应选择哪种部署来源？
- 删除 App Runner 服务会产生哪些后续操作？
---
source: 18 - Containers on AWS ECS, Fargate, ECR & EKS\013 AWS App Runner - Hands On_zh.srt
---

- ：好的, 我想向您展示AWS App Runner的工作原理,

但这不是该功能的一部分,

因此, 如果您决定跟随我的脚步, 请记住,

您需要为vCPU和每GB支付一些费用,

好吗？

因此, 让我们创建一个App Runner服务｡ 

所以首先我们要说一下我们部署的来源｡ 

它是容器注册表的一部分, 还是源代码的一部分,

我们可以连接, 比如说, 从GitHub连接？

我们将使用容器注册表｡ 

现在, 如果您的基础架构中有一个内部私有Docker容器,

则可以使用Amazon ECR;如果您希望部署公共映像,

则可以使用Amazon ECR Public, 我们将这样做｡

我们将进入Amazon

ECR Public Gallery网站, 我将执行HTTPD,

部署一个非常简单的HTP服务器, 基本上什么也不做,

只是向您展示如何部署HTTPD服务器｡

我现在就把它复制下来｡ 

复制此地址并粘贴在此处｡ 

好吧, 我会的 接下来, 什么是部署设置？

因此, 无论我们希望手动还是自动部署应用程序｡

因此, 如果我们启用了源代码存储库或Amazon

ECR, 我们可以自动执行, 但我们现在正在手动执行,

这很好｡

那么, 让我们单击“下一步”｡ 

那么我就称之为DemoHTTP｡ 

我们可以选择所需的vCPU数量和内存大小｡

因此, 一个vCPU和两GB就足够了｡ 

这是我能得到的最低价｡ 

我们可以传递环境动词｡ 

我们可以配置服务的端口｡ 

因此, 如果我们进入此处并查看文档,

我们可能会发现它的端口是映像的端口80｡

所以我们将使用端口80, 然后很快, 因为你不需要知道确切的原因,

但现在我们开始｡

如果是端口80, 那么我们是否要配置自动缩放？

那么, 我们是否希望将默认配置从一个实例增加到25个实例？并发性是什么？

因此, 通过这种扩展, 每个实例将有100个并发请求,

这非常棒｡

或者, 您可以使用自定义配置或添加新配置｡ 

好吧, 我会的 然后您可以进行健康检查｡ 

那么, 您是否希望对应用程序执行运行状况检查,

以确保其运行状况良好？

所以我们可以保持原样｡ 

安全性（如果希望容器具有实例角色）｡

网络, 如果您希望部署到自定义VPC中, 但现在,

我们将使用公共访问类型的访问, 以及我们是否希望使用AWS

X射线进行跟踪｡

因此, 现在我将所有内容都保留为默认值, 然后按“下一步”｡ 

因此, 我们验证设置｡ 

因此, 我们使用公共HTTPD映像,

然后端口位于端口80上｡

这非常简单,

因为我们只需要指定一个容器,

然后单击“创建和部署”, App

Runner实际上会在后台部署一个自动扩展组｡

它将部署扩展触发器｡ 

它很可能会像目标容器一样展开｡ 

它将部署一个负载平衡器｡ 

它会给我们一个域等等｡ 

因此, 它非常方便,

从这个界面, 我可以访问我的日志､

活动､ 指标､ 可观察性､ 配置,

以及连接任何自定义域｡

因此, 这是一个非常强大的一体化服务,

可以在AWS上以生产方式部署容器, 我真的很喜欢它｡

我花了一点时间, 但我的服务现在已经创建好了,

如果我单击它,

我就可以访问我的默认域,

它只是说它工作正常, 这是当你正确部署HTTPD时显示的消息｡

所以这是个好消息｡  它工作正常,

如果您查看一下它,

我们可以查看事件日志, 了解是否部署了所有内容､ 运行状况检查等,

仅此而已｡

就这么简单, 如果我们在这个网站上有很多并发请求,

那么它会自动伸缩, 这是非常好的｡

所以, 这是真的, 我发现应用程序运行难以置信的容易使用｡

现在, 我们可以删除此应用程序, 只需键入delete即可｡

这节课就讲到这里｡ 

我希望你们喜欢,

下节课再见｡

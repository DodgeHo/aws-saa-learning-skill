---
source: 05 - EC2 Fundamentals\008 How to SSH using Linux or Mac_zh.srt
---

史蒂芬：好吧｡ 

现在, 我们将使用Linux或Mac计算机将SSH添加到EC2实例中｡

你可能会说, 宋承宪是什么鬼东西？

你在说什么斯蒂芬？

SSH是使用Amazon Cloud时最重要的功能之一｡

它基本上允许您控制远程机器或服务器,

所有这些都使用您的终端或命令行｡

那么这张图看起来怎么样呢？

我们有一台EC2机器,

我们在上面启动了Amazon Linux

2, 我们的机器有一个公共IP｡

现在我们要进入那台机器｡ 

对于这一点, 我不知道你们是否记得,

我们有一个安全组, 在该组中,

我们允许SSH的端口22｡

接下来要做的是在我们的电脑上,

我的笔记本电脑给你, 给我, 或者给你,

然后我们通过网络访问｡

通过该端口22,

它将访问EC2机器｡

基本上, 我们的命令行界面就像我们在那台机器里一样｡

那么我们开始吧｡ 

好吧, 我会的

因此, 我们将对实例执行SSH｡ 

因此, 请记住您下载的PEM文件EC2 Tutorial｡

彭？

如果您有空间, 请确保删除其中的空间,

即使您有PPK文件｡

请重命名并删除其中的空间｡ 

EC2教程｡  为我去除PEM｡ 

然后, 您可以将其放置在您喜欢的目录中｡ 

所以对我来说, 我把我的文件粘贴到一个叫aws-course的文件夹里｡

好吗？

所以这是确保你准备好的第一步｡ 

接下来, 我将进入EC2实例概述页面,

找到我的第一个实例｡

这是我的第一个实例, 我们将对它执行SSH｡

所以我们要打开一个远程终端｡ 

而对于此, 我需要获得公共IPv4地址, 这样我就可以复制这个,

以后我会使用它｡

我需要做的另一件事是查看实例的安全性｡

同样, 如果你对我做了所有的事情, 那么你的安全组中有一个名为端口22的规则,

这是从任何地方通过0连接的SSH端口｡

0. 0. 0/0. 好吗？

所以如果你有这个规则, 那么你就可以走了｡ 

如果没有, 请单击安全组并添加缺少的规则｡

接下来, 我需要尝试执行SSH｡ 

首先, ssh ec2-user@, 然后是您拥有的IP｡

我们之所以使用ssh ec2-user,

是因为Amazon Linux

2 AMI已经为我们设置了一个用户,

该用户名为ec2-user｡

然后, 我们在,

表示我们要访问特定服务器上的该用户｡

然后, 我们就有了IP｡ 

这是EC2实例的公共IP｡ 

所以我们试试这个｡ 

因此, 我们使用SSH, 然后我们将得到太多的身份验证失败｡

因此, 这意味着我们不对EC2实例进行身份验证｡

好吧, 这是有道理的,

因为我们还没有指定之前下载的密钥｡

好吗？

你可能会得到另一种错误,

但现在这是我得到的｡

因此, 我们需要引用刚刚下载的EC2Tutorial文件｡

闯入我们指挥部

所以再确认一下, 这里没有空位｡ 

然后, 您需要确保您的终端正好位于文件所在的位置｡

所以如果我这样做是正确的在这里列出的文件在我的文件夹中,

我很抱歉, 如果这是太先进的你,

但我必须涵盖的理由, 为大家｡

所以如果我写ls, 就像你们现在看到的, 它写的是EC2Tutorial｡

pem这是因为我把我的命令行放在我的计算机上的正确目录｡

好吧, 我会的

所以对于这个, 如果你不在正确的目录中,

例如如果我是行级别, 所以我做cd｡ 这让我更上一层楼, 然后我做了｡

当然, 我没有看到我的EC2Tutorial｡  质子

好吗？

因此, 要做到这一点, 你可以做的只是检查你在哪里｡ 

所以密码就是你现在的位置｡ 

所以, 我在用户stephanemaarek,

我知道我把我的文件夹aws-course在我的家｡

因此, 在用户stephanemareek下面, 有aws-course｡ 

因此, 我知道我可以使用ls或ll来确认我的文件夹是否存在｡

正如你所看到的, 这里是我的aws-course文件夹,

所以这是好的｡

所以我所做的就是先做cd,

然后做aws-course, 这样就把我放到了aws-course的目录中｡

所以如果我做pwd, 我就在正确的目录中｡ 

如果我这样做, 我可以看到我的EC2教程｡  pem文件｡ 

我们之所以要这样做, 是因为现在在下命令｡

因此, 在SSH命令中, 您执行ssh -i, 然后指定EC2

Tutorial｡ pem文件, 如果您不在正确的目录中,

该文件将无法工作｡

所以请确保到达那里,

如果你错过了Linux的一部分,

请尝试上网, 但我应该很好地与我展示给你｡

然后, ec2-user@,

我们引用实例的公共IP｡

所以这里这个, 我们引用它｡ 

按回车键, 现在我们得到另一种错误,

它说我们有一个未受保护的密钥文件, 我们需要更改它的权限｡

因此, 我们必须输入另一个命令,

该命令是chmod｡

所以chmod 0400,

然后我们传入文件本身, 所以EC2Tutorial｡ 质子

所以我清空屏幕, 然后我将尝试与之前完全相同的命令｡

所以我按回车键, 登录到我的机器｡ 

因此, 您可能已经看到一个屏幕, 其中他们提示您选择是/否来信任该实例,

如果确实看到该屏幕, 只需输入yes｡

如您所见, 现在我已经在实例中执行了SSH,

现在它显示ec2-use at this IP,

这意味着现在发出的所有命令都将直接从我之前启动的Amazon Linux 2 AMI EC2实例发出｡

让我们尝试几个命令｡ 

例如, 如果你做whoami,

那么它说ec2-user或者我可以ping谷歌｡

我们看到了谷歌｡

com对我们的ping有回应｡ 

因此, 我们可以直接从Amazon

Linux 2 AMI启动一些命令,

我控制了C来停止该命令｡ 现在,

要退出实例本身, 您可以键入exit,

我认为这应该可以工作, 或者您控制G, 然后关闭到EC2实例的连接｡

如果您想重新开始使用它, 请记住以下命令：ssh

-I EC2 Tutorial｡

pem（如果您位于正确的目录中）｡

请务必这样做｡ 

以及ec2-user@,

然后是实例的公共IP｡

请记住, 如果您先停止然后再启动实例,

则公共IP可能会更改｡

所以一定要把那部分也改了｡ 

好吧, 我会的

这节课就讲到这里｡ 

我希望你们喜欢, 下节课再见｡

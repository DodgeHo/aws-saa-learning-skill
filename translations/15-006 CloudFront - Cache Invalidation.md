## 学习目标

- 理解 CloudFront 缓存失效（Invalidation）的原理与使用场景。
- 会创建无效化请求以强制边缘节点删除缓存并尽快从原点获取更新内容。

## 重点速览

- CloudFront 的边缘节点会根据对象 TTL 缓存内容；若需立即刷新内容，可提交 Invalidation（无效化）来删除指定路径的缓存。
- 无效化可针对单个资源（如 `/index.html`）或通配路径（如 `/images/*`）。

## 详细内容

1. 缓存命中与失效
- 当边缘节点缓存过期前更新原点内容，边缘节点仍会返回旧内容，除非发起无效化以清除缓存条目。

2. 提交无效化请求
- 在 CloudFront 控制台或通过 API/CLI 提交 Invalidation，指定要清除的路径列表。边缘节点接收到无效化后会移除对应缓存条目，后续请求将回源获取最新内容。

3. 使用建议
- 对于少量文件更新可提交精确路径无效化；大量或频繁更新时可采用版本化（更换对象键或带版本查询串）以减少无效化成本与等待时间。

## 自测问题

1. 无效化与更改对象键（版本化）相比有何优缺点？
2. 如何同时清除 `/images` 目录下的所有缓存对象？

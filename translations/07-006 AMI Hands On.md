---
source: 07 - EC2 Instance Storage\006 AMI Hands On_zh.srt
---

教练：让我们继续练习使用AMX｡ 

为此, 我将启动一个实例,

并将进入这种新体验｡

所以我会向下滚动｡ 

我们将选择Amazon Linux 2｡ 

我会再次向下滚动｡ 

我们用G2微型机｡ 

我会选择容易绘制的作为我的密钥对,

但这并不重要｡

然后我将向下滚动｡ 

我会编辑网络设置, 我会选择一个现有的安全组作为我的启动向导之前之一｡

然后, 我们将有相同的存储空间,

对于高级细节, 我将向下滚动, 我将选择用户数据,

但这次您将复制所有内容, 但最后一行｡

因此, 在前四行中, 我们实际上安装了HTTPD, 即Apache

Web服务器｡

在最后一行中, 我们创建了一个索引文件,

但现在我们不想创建索引文件,

只想从中创建一个AMI｡

所以我们就把所有东西都复制下来｡ 

记住, 最后一行是系统CTL命令｡ 

然后我们启动实例｡ 

所以我们的实例启动了, 接下来会发生的是,

实例将启动, 就在这里｡

然后它将运行EC

2, 使用脚本, 它将安装Apache

Web服务器｡

所以如果我太快了,

我试图打开这个公共IPV 4, 并试图进入它, 正如你所看到的,

它不起作用｡

我会得到一个连接, 错误, 拒绝等等｡ 

我需要确保我也使用HTTP协议, 当然,

但它, 它只是不会工作, 对不对？

因为你需要一点时间｡ 

即使它显示“running”, 您也需要给它时间,

让EC双用户数据脚本第一次运行｡

所以可能要花点时间｡ 

这可能需要两分钟｡ 

好吧 但是不要着急, 等着它完成｡ 

然后在某个时候, 当你刷新时,

你会看到屏幕｡

所以让我暂停一下视频｡ 

花了大约两分钟, 但现在我有了我的测试页面,

这是Apache Web服务器的基本页面｡

所以我们可以开始了｡ 

我们要做的就是创建一个AMI,

因为我们只想保存EC 2实例的状态并重用它｡

所以我右键单击, 我将做图像和模板, 然后我将创建一个图像｡

所以我们称之为“演示图像”, 我们将创建自己的AMI｡

然后我们有这些设置在这里｡ 

我们就这样吧｡ 

到这里并点击创建图像｡ 

现在要做的是创建一个AMI｡

因此, 如果我转到左手边并单击AMI, 正如我们在这里看到的,

我的演示AMI已注册｡

现在状态是待定的,

因为它正在创建｡

所以我需要做的就是耐心一点,

让它进入创造的状态｡

现在我的Amazon AMI已经创建好了｡ 

我现在可以做的是, 通过单击这里,

从这个AMI启动实例｡

或者, 如果您在实例创建页面, 我们可以启动实例｡

这一个叫做“来自AMI”｡ 

在这里, 在快速启动中, 我们可以访问我们知道的,

但你也可以进入'我的AMI的标签'｡

好吧 你有我拥有的, 你可以选择演示图像,

你刚刚从之前创建的｡

所以在这种情况下, 你向下滚动,

你选择密钥对或没有, 只是你｡

网络设置, 同样,

我们编辑它们, 我们只选择一个安全组中现有的启动器｡

我要做的是, 在高级的, 在最底层,

我要输入一些用户数据｡

所以我抄了前三行｡ 

从大麻开始｡ 

然后是最后一行, 这是新行上的回声｡ 

所以我们只需要写一个新文件｡ 

所以我们不需要重新安装HTTPD,

因为这个AMI已经包含了HTTPD,

这就是为什么我们会在启动时间加快｡

这就是为什么你要创建一个AMI｡ 

所以我们启动了一个实例, 现在实例已经启动了｡ 

所以我可以点击它｡ 

这是AMI的一个｡ 

我需要等待它被完全创建｡ 

我的AMI实例现在正在运行｡ 

我获取公共IP地址, 然后从中看到'Hello

World'｡

正如你所看到的, 这要快得多,

因为我们不需要再次安装HTTPD｡

这就是AMI的全部力量｡ 

你可以想象, 嗯, 可能不止这些｡ 

它可能是安全软件, 很多必备软件,

等等, 你安装它, 可能需要两三分钟｡

然后将其打包为AMI,

然后从AMI开始, 可能在最后进行一些最终定制, 但启动速度要快得多｡

你可以走了

这就是这个demo｡ 

现在, 从这里返回,

您要做的是, 您可以获取两个实例, 然后终止它们｡

就是这样｡ 

我们下节课再见｡

---
source: 09 - AWS Fundamentals RDS + Aurora + ElastiCache\006 Amazon Aurora - Hands On_zh.srt
---

- ：那么让我们继续创建Amazon

Aurora数据库｡

现在, 你要知道, 如果你跟我一起动手,

这会花你一点钱｡

对你来说最重要的是按照说明去做,

看看有什么选择｡

但是如果您没有多余的钱,

您就不需要真正继续创建数据库｡

所以我们要选择一个标准的create｡ 

正如你所看到的, 我们有两个不同的Aurora选项,

我们有MySQL兼容的选项和PostgreSQL兼容的选项｡

对于这个实践, 我将使用MySQL｡ 

我会向下滚动, 在这里你必须选择一个版本｡ 

这里有一个版本选择器｡ 

您可以使用过滤器,

例如, 仅显示支持全局数据库功能的版本,

或支持并行查询功能的版本, 或支持Serverless

v2功能的版本｡

所以我要做的是我将保留Aurora控制台建议的默认版本,

即3｡ 04. 1.

但这对你来说可能是不同的版本｡ 

接下来, 我将选择一个模板,

基本上选择生产允许我配置一切｡

这就是我们想要做的｡ 

我们会选择生产｡ 

对于RDS中的DB集群标识符,

我们将选择数据库2｡

我们的主用户名是admin,

然后你可以输入密码, 我现在就输入｡

好的, 那么对于群集存储配置, 您有两个选项｡

您可以选择Aurora标准或IO优化｡ 

因此, 如果您在Aurora数据库上有大量的输入和输出操作､

读和写操作, 您可能需要优化IO｡

但对于不太使用Aurora的经济高效的工作负载,

您可能希望使用Aurora标准｡

现在对于实例配置,

您可以为数据库选择所需的实例类｡

所以你可以看到你有不同的,

可以内存优化｡

你有burstable类,

你可以选择包括上一代类,

它有时工作｡

但现在我只使用db｡  t3培养基｡ 

此外, 如果您使用与Serverless兼容的版本,

您将在此处看到Serverless

v2 two选项｡

在这里, 你不选择实例类型, 你只选择所谓的Aurora容量单位,

ACU, 你说, 好吧, 有一个最小的ACU你想要的和最大的ACU你想要的, 这将允许你的数据库在这两个容量单位之间自动伸缩｡

所以现在, 我将使用可突发的db类｡

t3培养基｡ 

现在, 对于可用性和耐用性, 我们可以选择Aurora副本｡

因此, 我们在不同的AZ中创建Aurora副本和读取器节点,

这将为我们提供可用性､ 增强的可用性以及跨AZ的更好读取和快速故障转移｡

所以这将花费更多的钱,

但至少我可以向你展示极光的全部力量｡

接下来, 对于计算资源, 我们不打算连接到EC2资源｡

我们将选择IPv4的网络类型,

这将足以满足我们的需求, 但如果您的VPC中也有IPv6,

则可以使用双堆栈模式｡

然后你将在VPC中｡ 

这是具有默认提交组的默认VPC｡ 

我会是的, 允许公众访问,

允许从公共IP访问极光数据库｡

对于VPC安全组, 我将创建一个新的,

我将称之为演示数据库Aurora, 它将允许我们连接到我们的Aurora数据库｡

接下来, 对于其他配置,

我们可以看到数据库端口是3306, 这是MySQL端口｡

如果您之前选择了MySQL｡ 

因此, 我们还可以选择本地写转发,

以防将权限应用于读副本｡

然后, 它们将自动转发到写入实例｡

这使您可以更轻松地进行连接管理｡

现在, 我们还可以进行数据库身份验证,

使用基于IAM的数据库应用程序或基于IAM的数据库应用程序来使用外部机制对用户进行身份验证｡

我们加强了监测｡ 

我可以关掉它因为我们不需要它｡ 

我们为您的数据库提供了更多选择｡ 

例如, 初始数据库名称将是我的数据库, 然后备份保留将是一天｡

这太棒了

我们可以对数据库进行加密｡ 

我们有几个关于回溯的选项来倒带我们的数据库和日志导出,

但我不会详细介绍它们｡

我们有删除保护来保护数据库不被意外删除,

但现在一切正常｡

如你所见, 我们每个月都有一些费用｡ 

因此, 通过创建Aurora数据库,

确保您意识到这一点｡

让我们继续创建这个数据库｡ 

于是我的极光数据库就建立起来了｡ 

正如我们所看到的, 我们有一个区域集群,

它有一个writer实例和一个reader实例｡

所以这里, 重要的事实是我们有不同的实例来写入和读取,

并且在不同的AZ中｡

这就是极光的全部力量｡ 

所以如果你点击数据库2, 正如我们所看到的连接,

我们有两个端点｡

我们有一个读取器端点和一个写入器端点｡ 

所以这些端点非常方便,

因为它们代表了一个始终指向正确的编写器实例的端点｡

这个端点将始终指向正确的读取器实例｡

因此, 这些端点是您的应用程序应该用来连接到Aurora的端点｡

但是如果你直接点击这个特定的实例,

这个实例也会有一个专用的端点｡

这里的实例在创建后也会有一个专用的端点｡

所以它仍然在创造空间中｡ 

好吧, 我们有这些很酷的功能｡ 

然后, 我们有其他功能,

因此我们可以将更多的读者添加到我们的读者集群中,

以增加扩展容量｡

如果你想在另一个区域拥有一个副本, 我们也可以创建一个跨区域的读副本｡

我们可以及时恢复｡ 

另一个是我们可以添加副本自动缩放｡ 

所以这一点非常重要,

因为我们可以制定一项政策｡

这个策略会说, 嘿, 基于Aurora副本的平均利用率或到Aurora副本的平均连接数,

然后扩展读副本｡

所以说读副本扩展策略｡ 

然后说, 好的, 我想确保我的读副本保持在60%的目标值｡

如果我走过去, 请创建更多的读副本｡ 

我们还可以为伸缩策略定义伸缩周期,

这是有意义的｡

最小和最大容量是多少｡ 

所以一个复制品最多15个奥罗拉复制品｡ 

这是非常方便的有一个读副本自动缩放作为一个数据库｡

所以我取消了, 我们现在不需要｡ 

现在我已经确保我的点､ 数据库和端点都可用了｡

所以我们可以走了｡ 

因此, 我可以做的最后一件事是向您展示Aurora的全部力量,

那就是采取行动并添加AWS区域｡

这只有在您选择了启用了全局数据库功能的Aurora版本时才可能实现｡

但在这里我们可以将数据库区域添加到其他区域, 这将允许您获得全局Aurora｡

现在, 正如您所看到的, 这在此集群中是不可能的,

因为我们首先需要有一个大小兼容的实例来执行此操作｡

因此, 我们需要更改实例, 例如,

更改为大型实例, 然后我们可以将其他区域添加到数据库集群中｡

但不管怎样, 我想在这里给你们展示一下这个功能｡ 

好了, 奥罗拉就到这里

这就是你得到的,

这是一个惊人的数据库, 具有惊人的性能,

巨大的扩展能力, 全局无服务器等等｡

所以真的, 真的很完整的数据库｡ 

我真的很喜欢AWS的这个产品｡ 

现在要完成这个动手操作, 只需获取这个数据库, 然后想要删除它,

但是正如您所看到的,

它不可用｡

所以你首先需要做的是删除reader实例｡

所以输入删除我｡ 

然后您需要删除writer实例｡ 

所以再一次, 开始, 删除, 然后你输入删除我｡ 

一旦这两个东西都被删除了, 你就可以删除整个集群了｡

所以我会等事情结束｡ 

就这样

我的数据库现在被删除了,

我们下节课再见｡

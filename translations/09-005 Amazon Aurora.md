---
source: 09 - AWS Fundamentals RDS + Aurora + ElastiCache\005 Amazon Aurora_zh.srt
---

老师：让我们来谈谈Amazon

Aurora, 因为考试开始问你很多关于它的问题｡

现在, 你不需要深入了解它, 但你需要足够的高层次的概述来理解它是如何工作的｡

这就是我在这节课上要讲的｡ 

Aurora将成为AWS的专有技术｡ 

它不是开源的, 但他们使它与Postgres和MySQL兼容,

基本上你的Aurora数据库将有兼容的驱动程序｡

这意味着如果你像连接Postgres或MySQL数据库一样连接,

那么它就可以工作｡

Aurora非常特别, 我不会太深入了解内部,

但他们对它进行了云优化, 通过做大量优化和智能操作,

基本上他们在RDS上获得了比MySQL高5倍的性能提升, 或者在RDS上获得了比Postgres高3倍的性能提升｡

不仅如此, 在许多不同的方面,

它们还获得了更多的性能改进｡

对我来说, 我看过它, 它真的, 真的很聪明,

但我不会进入它的细节｡

现在Aurora存储自动增长,

我认为这是相当棒的主要功能之一｡

您从10GB开始, 但随着您将更多数据放入数据库,

它会自动增长到128TB｡

同样, 这与如何设计它有关,

但令人敬畏的是, 现在作为一个DB或SysOps,

你不需要担心监视你的光盘｡

你只知道它会随着时间自动增长｡ 

Aurora最多可以有15个读取副本,

并且复制过程将比MySQL更快｡

您通常会看到低于10 ms的复制延迟｡ 

现在, 如果您在Aurora中进行故障转移,

它将是即时的, 因此它将比MySQL RDS上的Multi-AZ故障转移快得多｡

由于它是云原生的,

因此默认情况下您可以获得高可用性｡

现在, 尽管成本比RDS高一点,

大约高出20%, 但它的效率要高得多,

因此在规模上节省成本更有意义｡

因此, 让我们讨论一下非常重要的方面,

即高可用性和读取扩展｡

所以Aurora很特别, 因为它会在你写任何东西的时候存储你的数据的六个副本｡

所以Aurora是按照可用性来制作的,

所以它只需要六个拷贝中的四个来写入｡

所以这意味着如果一个AZ下降, 你就没事了｡ 

它只需要读取所需的六个副本中的三个｡

所以, 这意味着它对于读取是高度可用的｡ 

有某种自我修复的过程发生,

这是非常酷的, 这是如果一些数据损坏或坏,

然后它做自我修复与对等复制在后端, 这是非常酷的｡

而且你不只是依赖一个卷,

你依赖100卷｡

再说一次, 这不是你能管的｡ 

它发生在后端, 但这意味着你可以大大降低风险｡

因此, 如果您从图表的角度来看,

您有3个AZ, 您有一个共享存储卷, 但它是逻辑卷,

它可以进行复制, 自我修复和自动扩展, 这是很多功能｡

所以如果你要写一些数据, 也许是蓝色的数据,

你会在三个不同的AZ中看到它的六个副本｡

然后, 如果你在不同的AZ中再次写入一些橙色数据的六个副本,

然后随着你写入越来越多的数据, 它基本上会在三个不同的AZ中再次写入六个副本｡

最酷的是它有不同的音量,

有条纹, 效果非常非常好｡

现在我们需要了解存储, 仅此而已｡ 

但你实际上并不与存储器交互｡ 

这只是亚马逊做的一个设计, 我也想把它给你,

这样你就能理解Aurora需要什么｡

现在, Aurora就像RDS的多AZ｡ 

基本上只有一个实例进行写操作｡ 

所以在奥罗拉有一个大师,

我们就在那里写作｡

然后, 如果主设备不工作, 故障转移将在平均不到30秒的时间内发生｡

所以故障转移非常非常快｡ 

在主服务器之上, 您最多可以拥有15个读取副本,

所有副本都提供读取服务｡

所以你可以有很多, 这就是你如何扩展你的读取工作量｡

因此, 这些读取副本中的任何一个都可以成为主设备,

以防主设备发生故障｡

因此, 它与RDS的工作方式完全不同,

但默认情况下, 您只有一个主机｡

关于这些读取副本的最酷的事情是它支持跨区域复制｡

所以如果你看图右边的极光, 这是你应该记住的｡

一个主服务器, 多个读取副本,

存储将被复制､ 自我修复､ 自动扩展,

一个小块一个小块地进行｡

现在让我们来看看极光是如何作为一个集群｡ 

所以这更多的是关于奥罗拉在你有客户时的工作方式｡

如何与所有这些实例进行交互？

因此, 正如我们所说, 我们有一个共享存储卷,

可以从10GB自动扩展到128GB｡

你的主人是唯一会写入你的存储的东西｡

由于master可以更改和故障转移, Aurora为您提供的是所谓的writer端点｡

所以它是一个DNS名称, 一个编写器端点,

并且它总是指向主服务器｡

因此, 即使主服务器发生故障转移,

您的客户端仍然会与编写器端点通信,

并自动重定向到正确的实例｡

现在, 正如我之前所说的, 你也有很多读副本｡ 

我没有说的是, 他们可以在这些读取副本之上进行自动缩放｡

所以你可以有一个最多15个读副本,

你可以设置自动缩放,

比如你总是有正确数量的读副本｡

现在, 因为你有了自动缩放,

你的应用程序可能真的很难跟踪你的读副本在哪里｡

URL是什么？

我如何与他们联系？

所以, 你必须记住这一点, 绝对要去考试｡

有一种东西叫做读取器端点｡ 

读取器终结点与写入器终结点具有完全相同的功能｡

它有助于连接负载平衡,

并自动连接到所有读取副本｡

因此, 每当客户端连接到读取器端点时, 它都会连接到其中一个读取副本,

并且将以这种方式完成负载平衡｡

请注意, 负载平衡发生在连接级别,

而不是语句级别｡

这就是奥罗拉的运作方式｡ 

记住写入器端点､ 读取器端点｡ 

记住自动缩放｡ 

记住自动扩展的共享存储卷｡ 

记住这张图, 一旦你得到它, 你就会明白奥罗拉是如何工作的｡

现在, 如果我们深入到功能, 你会得到很多东西,

我已经告诉过你｡

自动故障转移､ 备份和恢复､ 隔离和安全性､

行业合规性､ 通过自动扩展实现的按钮式扩展､

零停机的自动修补｡

所以他们在后台的魔术很酷｡ 

高级监控､ 日常维护, 所有这些都为您处理｡

您还可以获得称为回溯的功能,

该功能使您能够在任何时间点恢复数据｡

实际上并不依赖于备份, 它依赖于不同的东西｡

但是你可以说, 我想回到昨天下午4点,

你说, “哦, 不, 实际上我想在昨天下午5点做, ”它也会工作,

这是超级, 超级整洁｡

这就是Aurora的内容,

我们下节课再见｡

---
source: 04 - IAM & AWS CLI\011 AWS CLI Hands On_zh.srt
---

教师：让我来告诉你如何创建访问密钥｡ 

所以我会点击我的用户名, 斯蒂芬,

然后我会进入安全凭证.

我将向下滚动并创建一个访问密钥｡ 

正如你所看到的,

有一些选择你需要做的, 并根据我正在做的选择, 例如,

我想要的访问密钥的CLI, AWS将有一个替代建议｡

例如, 对于CLI, 最好使用CloudShell,

我将在下一节课中向您展示,

所以不要担心｡

或者使用CLI V2并通过IAM Identity

Center进行身份验证,

我不会向您展示,

因为它有点复杂｡

因此, 根据您想要做的事情,

如果它是在AWS之外或AWS中运行的本地代码应用程序等, 您将在底部提供一些建议｡

现在, 我们将使用CLI,

我们将使用这些访问密钥,

我们将单击此处说“我理解上述建议”, 我仍然想创建一个访问密钥,

因为了解它们是如何工作的,

它们是什么等对您很重要｡

让我们创建这个访问密钥｡ 

现在, 这是唯一的时间,

你将能够访问的访问密钥和秘密访问密钥｡

现在我将回到那个讲座的前一个版本,

在那里你会看到旧的UI, 但不要担心, 从那时起没有任何变化｡

我需要做的第一件事是配置我的AWS CLI｡ 

所以我要输入：aws configure｡ 

然后, 我输入了我的访问密钥ID｡ 

很好, 我可以输入这个, 然后按回车键｡ 

然后我会输入我的秘密访问密钥,

我也会在这里输入｡

默认区域名称,

因此这是一个离您很近的区域｡

我会选择eu-west-1,

因为我将做我所有的教程eu-west-1, 但你会选择自己的地区, 你可以输入自己的地区名称｡

顺便说一下, 地区名称, 你可以直接从这个下拉列表中获得｡

它显示了区域的名称以及区域代码｡

所以, 我将使用我的欧洲西部1号｡ 

我将按Enter键, 在默认的输出格式中,

我也将按Enter键｡

现在我的AWS CLI已经配置好了, 我们可以看看它是如何工作的｡

我们可以这样做：aws iam list-users, 然后按Enter键｡

这将列出我帐户中的所有用户｡ 

正如我们所看到的,

我现在拥有的用户名为Stephane,

这里是UserId, 这里是ARN, 它是何时创建的, 以及密码最后一次使用的时间｡

这和我进入这个用户界面得到的结果非常相似｡

因此, 管理控制台和CLI确实提供了类似的信息｡

接下来, 我想向您展示如果我们删除用户的权限会发生什么｡

所以我要去管理员, 我要从管理员组中删除Stephane用户｡

同样, 如果我回到我的用户Stephane, 它没有任何权限｡

很明显, 我是用我的根帐户做的,

而不是其他帐户｡

所以现在, 如果我进入我的UI,

显然刷新这个页面, 我会得到一个错误,

说, 是的, 我没有权限这样做｡

但是让我们尝试用CLI做同样的事情｡ 

所以我们要做一个“iam list-user”调用,

我们没有得到任何响应, 因为实际上它被拒绝了｡

因此, CLI权限显然将与您从IAM控制台获得的权限完全相同｡

因此, 本讲座的要点是,

您可以使用管理控制台或使用您可以配置的访问密钥和秘密访问密钥访问AWS,

然后在CLI中使用｡

希望你们喜欢,

下次课再见｡

显然, 不要忘记将用户重新添加到组中,

否则这将是可怕的｡

所以我将进入组, 管理员, 我将把我的Stephane用户添加回我的组,

现在我又是管理员了｡

就这样, 我们下节课再见｡

---
source: 26 - AWS Security & Encryption KMS, SSM Parameter Store, Shield, WAF\008 SSM Parameter Store Overview_zh.srt
---

教师：现在我们来讨论SSM参数存储｡

它是您的配置和机密的安全存储｡

此外, 您还可以选择使用KMS服务加密这些配置,

从而使其成为机密｡

SSM参数存储是无服务器的,

它是可扩展的, 它是持久的,

并且SDK非常容易使用｡

最重要的是, 如果您更新了参数, 那么您可以对它们进行版本跟踪｡

安全性是通过IAM提供的, 在一定数量的情况下,

您可以通过Amazon EventBridge获得通知｡

您可以与CloudFormation完全集成｡ 

这意味着CloudFormation可以利用参数存储中的参数作为堆栈的输入参数｡

让我们举个例子｡ 

我们有一个应用程序,

然后我们有SSM参数存储｡

所以我们可以用这种方式存储纯文本配置｡ 

然后, 将检查应用程序的IAM权限｡

例如, 您的EC2实例角色,

或者您可以具有加密的配置｡

在这种情况下,

SSM参数存储将使用KMS对其进行加密｡

因此, KMS服务将用于加密和解密｡

当然, 您需要确保您的应用程序能够访问底层KMS密钥,

以执行加密和解密｡

因此, 您可以使用层次结构将参数存储在参数存储区中｡

例如, 您可以将我的部门定义为一个路径,

然后在My-app和Dev下定义, 然后在该文件夹中定义Dev

DB-URL和DB-password｡

这就意味着你的参数会一直向下到层次结构中｡

我们可以向上一级, 存储Prod

DB-URL的参数以及Prod DB密码,

然后转到另一个应用程序或另一个部门｡

这真的允许您以结构化的方式组织您想要的参数｡

这将简化IAM策略, 使应用程序能够访问整个部门､

整个应用程序或仅访问应用程序部门环境特定的路径｡

您也有机会通过参数存储区访问Secrets

of Secrets Manager, 方法是使用此处的引用｡

所以这是一个没多少人知道的小把戏｡ 

AWS发布了一些公共参数,

您可以使用它们｡

例如, 如果您要查找特定区域中Amazon

Index 2的最新AMI｡

这是在参数存储中作为API调用提供的内容｡

因此, 如果您以一个应用程序为例,

我们的Dev Lambda函数将有一个IAM卷,

允许它访问我的应用程序的Dev中的DB-URL和DB-password｡

如果你有一个Prod Lambda函数,

再次感谢不同的IAM策略和一些环境变量,

你可以访问另一个路径的Prod DB-URL和Prod

DB-密码｡

（单击鼠标）现在,

在Systems Manager中,

您有两种参数层｡

您有标准层和高级层｡ 

因此, 最大的区别将是大约4KB的大小,

也就是8KB, 以及参数策略的可用性｡

对于标准的, 我们没有, 但对于高级的,

我们有一些｡

参数的高级类型将为$0｡

05美元｡ 

而第一个是免费的｡ 

那么, 这些参数策略是什么呢？

而且这只适用于高级参数｡ 

（鼠标点击）好吧,

这允许你给一个参数分配一个生存时间, 这意味着一个到期日期｡

这样就可以强制用户更新或删除密码等敏感数据｡

而且您可以一次分配多个策略｡ 

这是一个策略示例｡ 

这是一个删除参数的过期策略, 您可以说,

“嘿, 在这个时间戳上,

您必须删除这些参数｡ 然后, 通过EventBridge集成,

EventBridge将获得它的通知｡

因此, 在本例中, 在参数到期前15天,

我们将在EventBridge中收到通知, 这给了我们足够的时间来实际更新它,

并确保参数不会因为TTL而被删除｡

或者有时候你想确保参数偶尔改变一下｡

因此, 您可以在EventBridge中获得无更改通知,

这样, 如果某个参数在20天内未更新, 您也会收到通知｡

所以你可以非常有创意地使用参数存储｡

但现在你明白它背后的意思了｡ 

我希望你们喜欢这节课,

下节课再见｡

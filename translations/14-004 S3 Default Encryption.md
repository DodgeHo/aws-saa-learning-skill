---
source: 14 - Amazon S3 Security\004 S3 Default Encryption_zh.srt
---

讲师：我们来简短地讲一下默认加密与存储桶策略｡

因此, 默认情况下,

现在所有存储桶都具有默认加密SSE-S3｡

## 学习目标

- 了解 S3 的默认加密行为及可选项（SSE-S3、SSE-KMS、DSSE-KMS）。
- 学会使用桶策略强制要求对象使用指定加密并阻止不合规的 PUT 请求。
- 明确桶策略与默认加密的评估顺序。

## 重点速览

- 默认情况下 S3 会使用 SSE-S3 作为默认加密；可修改为 SSE-KMS 等。
- 桶策略可以拒绝未带合规加密头的 PUT 操作，从而在上传前强制加密。
- 存储桶策略在默认加密生效之前被评估：策略可拦截并拒绝不合规请求。

## 详细内容

1. 默认加密
- 在桶设置中可为新对象启用默认加密（SSE-S3 / SSE-KMS / DSSE-KMS）。默认是 SSE-S3。

2. 使用桶策略强制加密
- 通过编写桶策略（Bucket Policy），可以检查 PutObject 请求的加密相关头（例如 `x-amz-server-side-encryption` 或 KMS 相关 header），并拒绝未提供正确加密头的请求。
- 示例场景：策略拒绝所有未使用 SSE-KMS 的 PutObject 请求，或拒绝未使用 SSE-C 的请求（示例仅演示思路）。

3. 评估顺序与注意事项
- 桶策略在默认加密设置之前评估；因此即便桶设有默认加密，策略仍可在请求阶段拒绝不合规的上传。
- 当希望在上传时就阻止未加密数据（或使用特定加密方式）时，应使用桶策略配合默认加密。

## 自测问题

1. S3 默认加密有哪些可选项？默认值是什么？
2. 如何使用桶策略拒绝未加密或未使用指定 KMS key 的 PutObject 请求？
3. 桶策略与默认加密的评估顺序是怎样的？这有何影响？

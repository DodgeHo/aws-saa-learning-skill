---
source: 19 - Serverless Overviews from a Solution Architect Perspective\009 RDS - Invoking Lambda & Event Notifications_zh.srt
---

- ：RDS､ Aurora和Lambda是否紧密集成？

实际上, 在某些情况下, 我们可以从数据库实例中调用Lambda函数｡

这将允许您实际处理数据库中发生的数据事件｡

例如, RDS for PostgreSQL和Aurora

MySQL都支持这一点｡

其思想是, 例如,

用户要将一个事件数据插入到您的表中, 您的注册表｡

RDS将被设置为直接调用Lambda函数｡

您的Lambda函数可能会向您的用户发送一封欢迎电子邮件,

然后用户会收到它｡

这是您必须通过连接到数据库来从数据库内部设置的内容｡

这不是从AWS控制台设置的｡ 

当你这样做的时候, RDS实例就是调用Lambda函数的那个｡

因此, 您必须确保允许从RDS数据库实例到Lambda函数的入站流量通过任何方式,

因为您的Lambda涉及公共利益｡

因此, 我们可以使用Invoke､

NAT网关或VPC端点等｡

但是网络连接很重要｡ 

当然, 最重要的是,

因为RDS数据库实例将调用Lambda函数,

所以您必须具有调用Lambda函数所需的权限｡

因此, 您要确保数据库实例具有正确的IAM策略｡

这与使用RDS事件通知完全不同｡

因此, 这些通知是在AWS中发生的, 并且有些通知会告诉您有关数据库实例本身的信息｡

例如, 创建时间､

启动时间等｡

而且您没有任何数据库中发生的数据的信息｡

所以不要落入这个陷阱｡ 

例如, 您可以订阅有关数据库实例､

数据库快照､ 参数组､ 安全组､ 代理或自定义引擎版本的事件｡

但你不会得到数据库中数据的信息｡

您可以获得接近实时的事件,

因此最多5分钟的交付｡

然后你可以把它们发送到SNS, 或者你也可以在EventBridge中拦截它们｡

例如, 从SNS, 我们可以将它们发送到SQS队列,

或者Lambda函数｡

从事件桥你可以有这么多不同的目的地,

包括, 例如, 一个Lambda函数｡

但是请记住, 您不会获得有关数据事件本身的信息｡

您必须使用前面的方法, 就像我之前向您展示的那样｡

好了, 这堂课就到这里,

希望你们喜欢｡

我们下节课再见｡

---
source: 07 - EC2 Instance Storage\011 Amazon EFS_zh.srt
---

- ：大家好, 欢迎来到Amazon

EFS -弹性文件系统讲座｡

EFS是一个托管NFS, 它是一个网络文件系统｡ 

由于它是一个网络文件系统,

因此可以装载在许多C2实例上, 这些EC2实例也可以位于不同的可用性区域中｡

这就是EFS的全部力量｡ 

因此, 它具有高可用性､

可扩展性, 但价格昂贵｡

它的成本大约是gp2

EBS卷的三倍, 而且是按次付费｡

因此, 您不必提前调配容量｡ 

让我解释一下｡ 

这样, 您就有了EFS文件系统,

并在它周围设置了一个安全组｡

然后, 您可以拥有EC2实例, 例如, 其中许多实例位于us-east-1a可用性区域,

或者EC2实例位于us-east-1b可用性区域或us-east-1c可用性区域｡

而且它们都可以通过EFS同时连接到同一个网络文件系统｡

EFS的使用案例包括内容管理､ Web服务､

数据共享和WordPress｡

它在内部使用NFS协议｡ 

为了控制对EFS的访问, 您需要设置一个安全组｡

现在, EFS, 非常重要的是要注意, 它只兼容基于Linux的AMI,

而不兼容Windows｡

您可以使用KMS在EFS驱动器中启用静态加密,

KMS是Linux上的标准文件系统｡

所以使用POSIX系统, 它有一个标准的文件API｡ 

EFS最酷的一点是, 您不需要提前计划容量｡

该文件系统将自动扩展, 并且您在EFS中使用的每GB数据都是按使用付费的｡

然后, 我们有不同的性能和存储类别｡ 

EFS的第一个规模是, 您可以获得数千个并发NFS客户端和10

GB以上的吞吐量, 而且您可以自动扩展到PB级的网络文件系统, 这非常好｡

您还可以在EFS网络文件系统创建时设置性能模式,

您有几个选项｡

第一个是“通用”, 这是默认设置｡ 

它用于延迟敏感的用例, 如web服务器､

cms等｡

但是, 如果您想最大限度地提高吞吐量, 您可以使用Max

I/O, 这是一种高延迟的网络文件系统, 但吞吐量更高,

而且高度并行｡

因此, 如果您有大数据应用程序或媒体处理需求,

它将非常有用｡

现在是吞吐量模式, 您有不同的选项｡ 

第一个是Bursting｡ 

所以你有一个TB意味着它是每秒15兆字节加上每秒100兆字节的突发｡

所以这就是你所得到的那种爆发｡ 

你不必记住这些数字, 但只是让你有一个想法｡

资源调配是指您希望设置吞吐量而不考虑存储大小｡

上一个版本的吞吐量随着存储的增加而增长,

但通过调配, 您可以让1 TB的存储达到每秒1

GB的速度, 这很好,

因为您已经将吞吐量与存储解除了关联｡

最后, 为了让事情变得简单一点,

您可以使用Elastic根据您的工作负载自动向上和向下扩展吞吐量｡

例如, 根据您的工作负载,

读取速度可达每秒3 GB,

写入速度可达每秒1 GB｡

当您有不可预测的工作负载时,

这将是一个很好的选择｡

现在, 对于存储类, 同样有多个选项｡ 

因此, 您可以设置存储层,

并且它的一项功能是在几天后将文件移动到不同的层｡

例如, 标准层用于频繁访问的文件,

还有一个不频繁访问层EFS-IA,

如果您检索文件, 它将为您提供检索文件的成本｡

但是, 当您将这些文件存储在EFS-IA上时,

您将付出更低的代价｡

要启用EFS-IA, 您必须使用生命周期策略｡ 

假设我们有一些EFS标准的常用文件,

但其中一个文件超过60天未被访问｡

然后, 由于我们共同设置的生命周期策略,

文件将移动到不同层中的EFS-IA,

这将降低成本｡

现在, 就可用性和耐用性而言, 您有两种选择｡

您可以将EFS设置为Multi-AZ,

这非常适合生产使用情形,

因为如果可用性区域关闭, 它不会影响EFS文件系统｡

但是, 如果您希望开发具有一个区域EFS文件系统,

则可以这样做｡

因此, 它非常适合开发, 但它仅在一个AZ中使用,

默认情况下启用备份, 而且它仍然与不常访问的存储层兼容｡

因此, 它被称为EFS One Zone-IA,

如果您使用它, 它将为您提供更优惠的折扣,

可节省约90%的成本｡

因此, 该示例将询问您应该何时使用EFS,

以及应该在EFS网络文件系统上设置哪些选项, 以确保验证并符合需求｡

好了, 这堂课就到这里｡ 

我希望你们喜欢, 我们下节课再见｡

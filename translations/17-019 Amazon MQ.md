---
source: 17 - Decoupling applications SQS, SNS, Kinesis, Active MQ\019 Amazon MQ_zh.srt
---

教师：现在我们来谈谈Amazon MQ｡ 

我们知道SQS和SNS,

它们是云原生服务,

因为它们是AWS的专有协议｡

它们使用自己的API集｡ 

但是, 如果您在内部运行传统应用程序, 则可以使用MQTT､

AMQP､ STOMP､

Openwire､ WSS等开放协议｡

当您将应用程序迁移到云时,

您可能不希望重新设计应用程序以使用SQS和SNS协议或API｡

因此, 您希望使用以前使用的传统协议,

如MQTT､ AMQP等｡

因此, 我们可以使用Amazon MQ｡ 

所以Amazon MQ非常简单｡ 

它是一种托管消息代理服务, 适用于RabbitMQ和ActiveMQ这两种技术｡

例如, RabbitMQ和ActiveMQ是内部部署技术,

可让您访问我刚才提到的开放式协议｡

因此, 借助Amazon MQ, 我们可以将这些代理的托管版本放到云上｡

因此, 您可以理解其中的含义｡ 

首先, Amazon MQ的可扩展性不如SQS或SNS,

后者具有无限的可扩展性｡

而且, 由于Amazon MQ在服务器上运行,

因此您可能会遇到服务器问题｡

因此, 如果您希望实现高可用性,

可以运行带有故障切换的多AZ设置｡

此外, Amazon MQ还提供了队列功能（看起来像SQS）和主题功能（作为单个代理的一部分,

看起来像SNS）｡

那么, Amazon MQ的高可用性是如何工作的呢？

例如, 假设我们有一个区域us-east-1,

并且有两个可用性区域us-east-1a和us-east-1b｡

一个区域将处于活动状态,

另一个区域将处于备用状态｡

因此, 我们将在两个AZ中都有一个Amazon MQ代理, 其中一个是活动的,

另一个是备用的｡

因此, 要使故障转移正常工作,

您需要将AmazonEFS定义为后端存储｡

我们已经看到, EFS是一个网络文件系统,

可以装载到多个可用性区域中｡

因此, 无论何时发生故障切换,

备用队列也将装载到Amazon

EFS上, 因此将具有与第一个活动队列相同的数据, 因此故障切换可以正确发生｡

因此, 如果您的客户端与Amazon MQ代理通信, 并且发生了故障转移,

那么数据将由于Amazon EFS而保持安全｡

就是这样｡ 

这就是你参加考试所需要记住的全部内容｡ 

我希望你们喜欢它, 我们下节课再见｡

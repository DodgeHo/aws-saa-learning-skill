---
source: 05 - EC2 Fundamentals\016 EC2 Instances Launch Types Hands On_zh.srt
---

讲师：让我们来看看启动EC2实例的所有方式,

第一种是使用spot请求｡

在左侧, 单击Spot Request,

我们可以首先查看EC2实例的定价历史｡

比如说, 我们看一下c3或c4｡  例如, 您运行Linux/Unix,

我将查看三个月的范围, 我们可以看到价格如何根据四月,

五月, 六月随时间推移而变化, 我们在这里有按需价格作为黑色条, 然后我们有基于不同AZ的价格｡

正如我们所看到的,

价格一直很低, 很稳定｡

根据您看到的不同范围, 您可以看到这种类型的实例节省约69%到70%｡

如果你使用的是c4类型的spot实例, 这会节省很多钱｡

很大｡ 

那么我们如何请求一个spot实例呢？

我们点击Request Spot Instances｡ 

所以我在我的现货舰队请求屏幕上, 有很多参数,

我可以看到, 但我想快速通过他们只是为了得到一个想法现货舰队请求如何工作｡

因此, 您可以使用启动模板或手动配置启动参数,

并且可以指定要使用的密钥对Amazon Linux

2, 以及在创建EC2实例时要指定的一些其他启动参数｡

因此, 这定义了EC2实例的创建方式,

这是有意义的｡

接下来, 我们有请求的详细信息,

所以我们在这里有更多的设置｡

我们可以说你想要的最高价格是多少,

请求从什么时候开始有效, 直到什么时候有效,

当请求过期时我们是否想要终止实例, 以及我们是否将这些EC2实例链接到一个或多个经典负载均衡器或目标组以拥有它, 例如, 对于应用程序均衡器｡

我们将使用默认值｡ 

然后, 对于目标容量,

我们希望有多少实例作为我们的现货舰队的一部分｡

所以我们可以说, 例如, 10个实例｡ 

如果您的计算单位更重要, 我们还可以根据vCPU来指定它,

或者如果RAM是您的目标, 则可以使用兆字节内存｡

因此, 我们可以说, 例如, 我们需要10个vCPU,

我们希望保持目标容量, 然后会发生什么？

好吧, 如果中断, 请终止我的实例,

但你也可以停止它们或休眠它们,

好吗？

如果需要, 您还可以重新平衡容量｡ 

这只是对目标容量的一些调整｡ 

然后是网络设置, 所以你想在哪里启动它们,

在特定的AZ中或不在特定的VPC中｡

然后, 对于实例类型, 我们是否希望有一些限制,

以便您可以手动选择符合您的spot fleet请求的某些特定条件的EC2实例,

例如c3｡

大号C4 或者您可以只指定实例属性,

这可以说, 嘿, 您需要多少vCPU, min和max,

您需要多少内存, min和max, 然后是其他属性（如果您需要）｡

然后根据您在这里指定的内容,

将为您提供匹配的实例类型｡

我们可以看到, 你对这些参数的限制越多,

你得到的即时类型匹配就越少｡

但这个想法是, 你只想启动AWS为你准备的任何东西,

这样你就可以最大限度地节省成本,

同时遵守你之前说过的一些限制｡

然后是分配策略, 您是希望优化容量以确保始终拥有合适的容量,

还是希望获得最低的价格并在此基础上获得最大的节省｡

然后, 如果您在此处选择了手动选择的实例类型（例如,

1､ 2､ 3､ 4）, 则可以在此处选择此选项,

以在此处选择的所有实例类型中维护不同的实例池｡

所以一旦你完成了,

你会得到一些关于你的舰队请求的摘要,

以及它是否是一个强大的舰队,

有多少实例匹配等等｡

然后它会给你这个车队的估计每小时价格,

所以是0｡ 在目标容量下, 每小时156个,

与按需相比, 这将为我节省73%的成本｡

所以不需要确切地知道这些是如何工作的,

好吧, 但你可以看到所有的参数, 你可以做一个现货车队请求｡

如果你想直接启动一个spot实例,

只需转到实例, 然后启动一个实例,

在那里, 你可以向下滚动,

你会在高级细节下找到请求spot实例的选项｡

因此, 如果您这样做, 那么您正在请求现货实例,

并且默认情况下, 现货价格的请求以按需价格为上限,

这非常好, 但您可以自定义｡

例如, 您可以输入自己的最高价格, 如果您愿意,

每个实例, 每小时, 然后您可以选择您想要的请求类型｡

因此, 默认情况下, 它是一次性请求｡ 

这意味着, 每当你请求一个spot实例时,

如果它被回收, 它将自动被终止,

这是唯一正确的中断行为,

或者你可以选择一个持久类型的请求｡

在这种情况下, 当设置价格要求时,

现货实例将继续返回｡

在这种情况下, 您必须设置请求的有效性｡ 

你说, 好吧, 这个请求是持久的,

直到一个日期或只是没有到期, 以及如果价格超过你的最高价格会发生什么｡

在这种情况下, 您的中断行为是hibernate或stop｡

最后, 你看到这里, 块持续时间｡ 

这将在2022年12月22日, 12月31日消失,

所以我现在不会向你描述它｡

这是一个过时的功能, 您现在甚至可能不会在您的帐户上看到｡

接下来, 让我们看看所有其他可用的选项｡

所以我们有预留实例, 预留实例允许我们购买特定类型的特定预留实例｡

例如, 我们可以寻找C5｡  大, 我们可以搜索所有的产品｡

正如我们所看到的,

我们有不同的产品提供给我们｡

例如, 我们有一个12个月或13个月的期限, 它可以是一个标准或可转换类型的实例,

这是所有的前期, 但我们向下滚动, 我们可以得到所有的前期, 我们可以得到没有前期, 我们可以得到部分前期｡

我们说你想要多少,

比如说, 我们想要两个, 所以我就把数字2放在这里.

然后在右侧, 您可以单击Add

to cart将此保留实例添加到您的购物车｡

如果您点击查看购物车,

您可以查看您想要什么类型的预留实例,

然后我们可以订购所有实例｡

但是如果你点击那个, 你会支付很多钱,

所以我会建议不要这样做｡

正如我们所看到的, 我认为保留实例很快就会消失,

因为现在AWS储蓄计划可能更容易使用,

这就是为什么建议使用储蓄计划｡

因此, 左侧提供了储蓄计划, 该计划允许您在一年､

两年或三年的期限内每小时花费特定金额的美元,

并为您提供了启动实例的灵活性｡

它在实例类型､ AZ等方面为您提供了灵活性｡

所以我们现在就去, 过一遍, 但它给了你选择｡ 

接下来, 我们有专门的主持人｡ 

因此, 专用主机是让您启动一个主机,

您可以访问较低级别的硬件, 这为您提供了更好的许可定价,

这就是为什么如果您单击此选项,

它会将您引导到许可管理器,

这是一种从许可证角度考虑而不是从主机角度考虑的方法, 在这种情况下, 它将简化专用主机的管理｡

但是如果你想直接从这个UI启动一个专用主机,

你可以点击Allocate

Dedicated Host, 然后你可以命名它, 你可以指定实例系列,

例如c5, 你可以指定一个AZ｡

因此, 在c5的专用主机上,

我们可以启动多个实例类型, 然后进行一系列设置,

然后单击Allocates, 您将拥有一个专用主机｡

但是, 我不会这样做,

因为这将花费你很多钱｡

最后, 对于容量预留,

这是您希望确保在EC2实例启动时有可用容量的时候｡

例如, 我们说, “嘿,

我想确保我有足够的m5｡ 2xlarge available

to me”, 所以我希望它们在eu-central-1中,

并且我希望它们有四个EC2实例类型m5｡

无论如何我都能拿到2xlarge好吗

然后你可以说, 当预订结束时,

它是在特定的时间手动完成的, 然后这将保证实例对你可用,

但无论你是否在其中启动实例, 你都必须为此预订付费｡

好吗？

这节课就到这里｡ 

我们已经看到了启动EC2实例类型的所有方法｡ 

我希望你们喜欢,

我们下次课再见｡

---
source: 06 - EC2 - Solutions Architect Associate Level\001 Private vs Public vs Elastic IP_zh.srt
---

讲师：好的, 我们现在开始讨论私有和公共IP这一非常有趣的概念｡

这对你来说可能太基本了, 我很抱歉, 但是有些人需要帮助,

所以我宁愿帮助每个人｡

因此, 网络就是要有IP, 有IPv4和IPv6｡ 

IPv4可能是最常见的, 您已经知道它基本上是由三个点分隔的四个数字｡

IPv6不太常见, 它有一串很长､

很奇怪的外来符号､ 数字和字母｡ 在本课程中,

我们将仅使用IPv4, 但要知道AWS也支持IPv6｡

IPv4目前仍然是最常用的在线格式IPv6更多地用于物联网或物联网,

基本上, 它解决了很多问题, 但对我们来说, 我们目前还没有任何IPv4问题｡

IPv4允许3. 公共空间中有70亿个不同的地址,

几乎快用完IP地址了, 基本上,

每个数字都可以在0到255之间变化, 如果你计算一下,

你会得到3｡

70亿个不同的地址｡ 

现在, 让我们举一个例子来说明这意味着什么,

如果您有一个Web服务器, 它是公共的,

可以是我们的EC2实例, 也可以有一个公共IP,

我们可以有另一个服务器, 它具有另一个公共IP,

并使用公共IP, 这些服务器可以相互通信,

这很好｡

现在, 当我们有一家公司, 例如我的公司,

它有一个专用网络, 该专用网络基本上有一个专用IP范围,

专用IP有一种非常具体的定义方式,

但基本上, 这意味着该专用网络中的所有计算机都可以使用专用IP相互通信｡

然而, 当您访问互联网网关（公共网关）时,

这些实例也将访问其他服务器,

等等, 这是AWS中的常见模式｡

现在, 基本上, 如果你有另一家公司,

它也会有一个专用网络,

在专用网络中, 每台计算机都可以相互通信, 也许还可以有一个带有IP的互联网网关, 基本上可以连接整个互联网,

并与其他服务器通信｡

基本上, 我想向大家展示的区别是, 当您拥有公共IP时,

您可以通过互联网进行访问, 而当您拥有私有IP时, 您只能在您的私有网络中进行访问｡

所以有些区别, 公共IP, 就像我说的,

意味着机器可以在互联网上被识别,

公共IP在整个网络上必须是唯一的, 所以不能有两台机器拥有相同的公共IP,

我认为这是有道理的｡

一个IP通常会给你一个IP, 你可以在谷歌上搜索它,

然后你就可以找到一个地理位置｡

而私有IP则意味着只能在私有网络上识别机器,

并且IP必须仅在私有网络中是唯一的,

但是两个不同的私有网络可以有相同的私有IP, 这绝对不是问题｡

当计算机在专用网络上时, 它们将通过NAT设备和充当代理的互联网网关连接到互联网｡

最后, 只有指定范围的IP可以用作专用IP｡

最后, 对于弹性IP, 基本上, 当您启动和停止EC2实例时,

它将更改其公共IP, 我们将在实践中看到这一点｡

如果您的实例有一个固定的公共IP,

无论出于什么原因, 您都需要一个称为“弹性IP”的东西｡

弹性IP是什么, 它是一个公共IPv4,

你拥有它, 只要你不删除它｡

基本上, 您一次只能将其连接到一个实例,

这一点很明显｡ 基本上, 当您有一个IP地址并且它是弹性的时, 您可以使用它来屏蔽实例或软件的故障, 方法是将其从一个实例快速移动到另一个实例,

但这是一种非常不常见的模式, 因为您的帐户中只能有五个弹性IP｡

现在, 你可以要求AWS增加,

但它是相当罕见的使用｡

总的来说, 我建议尽量避免使用弹性IP, 它们经常被认为是非常糟糕的架构决策,

相反, 你应该使用一个随机的公共IP, 并为其分配一个DNS名称｡

现在, 我们将看到DNS路由53,

它将对我们的控制能力和可扩展性更强,

或者稍后, 我们将看到, 我们还可以使用负载平衡器,

而完全不使用公共IP, 这是AWS的最佳模式｡

现在, 让我们快速进行一次动手练习,

以便对所有这些内容有一个良好的感觉｡

默认情况下, 我们的EC2机器将为内部AWS网络提供一个专用IP,

为WWW提供一个公共IP, 因此, 当我们在EC2机器中执行SSH时,

我们无法使用专用IP, 因为我们不在同一个网络上, 除非您有VPN｡

如果您没有VPN, 我们只能使用公共IP, 并且如果您的计算机停止并启动,

公共IP可能会更改｡

现在让我们去观察所有这些行为｡

---
source: 09 - AWS Fundamentals RDS + Aurora + ElastiCache\011 ElastiCache Overview_zh.srt
---

讲师：我们来谈谈Amazon ElastiCache｡ 

因此, 同样的方法, 你得到RDS有管理的关系数据库,

ElastiCache将帮助你得到管理的Redis或Memcached, 这是缓存技术｡

那么什么是缓存呢？

它们是内存中的数据库,

具有非常高的性能和低延迟｡

高速缓存将帮助您减少读取密集型工作负载的数据库负载｡

其思想是将常用查询缓存起来,

因此不会每次都查询数据库｡

只有您的缓存可以用于检索这些查询的结果｡

这还可以帮助您通过将应用程序的状态放入Amazon

ElastiCache来使应用程序无状态｡

由于RDS和AWS具有相同的优势,

因此它们将对操作系统进行相同的维护､ 修补､ 优化､

设置､ 配置､ 监控､

故障恢复和备份｡

现在, 如果您使用Amazon

ElastiCache只是为了让您知道它将需要您为应用程序做一些繁重的应用程序代码更改｡

这不是一个只启用和关闭的东西,

你有一个缓存｡

您需要更改应用程序, 以便在查询数据库之前或之后查询缓存｡

我们马上会看到策略｡ 

现在我们来讨论一下使用ElastiCache的架构｡

可能有很多, 但我只是举个例子｡ 

假设我们有Amazon ElastiCache和RDS数据库以及您的应用程序｡

应用程序将查询ElastiCache,

以查看是否已进行查询｡

如果它已经被创建, 并且存储在ElastiCache中,

则称为缓存命中｡

然后它直接从亚马逊ElastiCache得到答案｡

这样我们就省去了去数据库查询的时间｡

现在, 如果缓存未命中,

我们需要从数据库中获取数据｡

所以我们要从数据库中读取｡ 

然后, 对于将进行相同查询的其他应用程序或其他实例,

我们可以将数据写回到缓存中,

以便下次相同的查询将导致缓存命中｡

这样做的目的是帮助减轻RDS数据库的负载｡

而且, 因为您要在缓存中存储数据,

所以必须有一个缓存失效策略来确保在缓存中只使用最新的数据｡

这就是使用缓存技术的全部困难｡

另一种架构是存储用户会话以使应用程序无状态｡

因此, 我们的想法是, 您的用户将登录到您的任何类型的应用程序,

然后应用程序将把会话数据写入Amazon ElastiCache｡

现在, 如果您的用户被重定向到应用程序的另一个实例,

那么您的应用程序可以检索会话缓存,

会话直接来自Amazon ElastiCache, 因此您的用户仍然处于登录状态, 不需要再次登录｡

因此, 现在的想法是,

通过将用户的会话数据写入Amazon

ElastiCache,

使应用程序无状态化｡

那么, 如果我们比较Redis和Memcached, 我们得到了什么？

对于Redis, 我们有带自动故障转移的多AZ,

如果你想扩展读取并获得高可用性,

我们还有读取副本｡

这看起来很像RDS｡ 

我们使用AOF持久性实现了数据持久性, 并且我们具有备份和恢复特性｡

所以, Redis的核心是数据的持久性｡ 

作为一个缓存, 它支持集合和排序集合,

这些关键字也可以在考试中查找｡

所以在这里我想把Redis作为一个缓存来展示,

它可以被复制, 具有高可用性和持久性｡

而Memcached则使用多节点进行数据分区｡

所以这叫做碎片化｡ 

没有高可用性,

也没有复制｡

它不是永久缓存｡ 

没有备份和恢复｡ 

这是一个多线程架构｡ 

因此, 我们有多个实例在Memcached中工作,

并进行了一些分片｡

所以这里你需要记住的是Redis真正是为了高可用性,

备份, 读取副本, 这类东西｡

而Memcached是一个纯粹的缓存, 它分布在你可以承受丢失的地方--你丢失了数据,

没有高可用性, 也没有备份和恢复｡

这就是这两种技术之间的主要区别｡

原来如此｡ 

我希望你们喜欢,

我们下节课再见｡

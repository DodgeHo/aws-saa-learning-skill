---
source: 06 - EC2 - Solutions Architect Associate Level\008 EC2 Hibernate_zh.srt
---

教师：下面我们来讨论一个不太为人所知的特性,

即EC2 Hibernate｡

因此, 我们知道我们可以停止和终止实例,

当我们这样做时, 当我们停止它时,

磁盘上的数据, 在您的EBS磁盘上,

将保持不变, 直到下一次启动｡

有道理｡ 

如果我们终止它, 那么,

如果您将根卷设置为与您的实例一起销毁, 它将被销毁,

但任何未设置为在您的实例终止时销毁的卷将被保留｡

然后, 当您启动一个实例时,

操作系统将启动, 然后运行EC2用户数据､ 脚本,

然后启动操作系统｡

然后, 应用程序启动, 缓存预热, 这可能需要时间,

因为您要启动计算机, 对吗？

但我们的想法是, 通过Hibernate,

我们希望达到一种新的状态｡

因此, 当我们休眠一个实例时, 无论RAM中有什么,

内存中的状态都会被保留｡

那是什么意思？

这意味着您的实例启动将快得多,

因为操作系统不会停止或重新启动,

操作系统实际上只是冻结, 它处于休眠状态｡

在后台, 无论RAM状态是什么,

都将写入根EBS卷中的文件｡

因此, 这意味着根EBS卷必须加密,

并且必须有足够的空间来容纳RAM｡

让我来告诉你发生了什么｡ 

因此, 我们采用EC2实例,

它正在运行, RAM中有数据, 然后我们启动休眠过程｡

那么, 该实例将进入停止状态,

并且RAM将被转储到EBS卷中,

这是怎么回事呢？

然后, 实例将关闭, RAM将消失,

因为一旦停止实例, RAM将消失,

但EBS卷仍包含RAM的转储｡

然后, 当实例启动时,

RAM将从磁盘加载到EC2实例内存｡

这意味着它就像您的EC2实例从未停止一样｡

我们将在实践中了解这一点｡ 

休眠的使用情形是：如果您希望拥有长时间运行的进程,

并且永远不会真正停止它们, 或者如果您希望保存RAM状态, 或者如果您只是希望重新启动（例如快速启动）, 并且您有需要时间初始化的服务｡

因此, 您实际上并不希望它们初始化,

而是希望它们保持运行, 即使您将实例休眠｡

因此, 关于EC2 Hibernate需要了解的一些好的方面是,

它支持许多不同的系列｡

实例RAM大小必须小于150 GB｡ 

现在, 这可能会改变,

同样, 你在考试中没有测试极限, 但我只是把它作为一个指示, 让你了解它是如何工作的｡

它不适用于裸机实例｡ 

它适用于许多不同的操作系统, 包括Linux和Windows｡

它对根卷有效,

所以根卷必须是EBS卷, 必须加密,

好吗？

它必须足够大, 才能容纳您转储到其中的RAM｡

它可用于所有类型的实例,

如按需､ 保留和现货实例｡

冬眠的时间不超过60天｡ 

同样, 这是可以改变的,

但现在这是实际的限制｡

好了, 这节课就讲到这里, 希望你们喜欢,

下次课我们会亲自动手｡

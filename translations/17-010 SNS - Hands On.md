---
source: 17 - Decoupling applications SQS, SNS, Kinesis, Active MQ\010 SNS - Hands On_zh.srt
---

教师：那我们来练习使用SNS｡ 

因此, 我们将进入简单的通知服务并创建第一个主题｡

我将把它称为我的第一个主题,

然后单击下一步｡

因此, 我们有两种创建主题的方法｡ 

它可以是一个标准的主题, 这将是创建,

这是最大的努力消息排序至少一次消息传递,

最高的重新启动方面的发布者每秒和SQS

Lambda HTTP, SMS,

电子邮件和移动应用程序端点可以从这个SNS主题读取, 或者我们已经看到,

我们可以创建一个SNS FIFO主题.

这是为了获得严格保留的消息顺序, 并且消息传递恰好为一次｡

高吞吐量, 每秒最多可发布300个｡ 

而唯一可以订阅FIFO

SNS主题的是SQS FIFO队列｡

在这种情况下, 如果我们是FIFO,

我们可以看到主题的名称必须以点FIFO结尾｡

所以我们就用标准的然后用我的第一个主题作为名字｡

我们可以对主题中的消息进行加密｡ 

我们可以设置一个访问策略,

而超额策略将定义谁和什么可以访问SNS主题｡

这类似于S3存储桶策略,

这也类似于SQS访问策略？

其思想是, 通过这种访问策略,

例如, 我们可以设置一个S3桶来将事件写入SNS主题｡

然后作为SNS话题可以将数据发送给SQS等等｡ 

因此, 访问策略将需要允许额外的桶写入我们的SNS主题｡

所以现在只使用basic,

因为我们不需要做任何花哨的事情,

我们也不打算设置任何这些, 然后我们只需要单击create

topic｡

我的第一个主题创建完毕,

我们现在可以看到, 我们没有订阅｡

因此, 我们需要创建第一个订阅｡ 

所以我将创建一个和Winters排序协议｡ 

可以是Kinesis Data Firehose, SQS,

Lambda, 电子邮件, 电子邮件, Jason HTTP, HTTPS和SMS, 好吗？

你们必须记住那些进入豁免的内容,

但为了简单起见, 我们首先要使用电子邮件, 实际上只会在这门实践课中使用电子邮件｡

现在我们需要使用端点｡ 

因此, 我将使用stephantheteacher@mailinator的电子邮件地址｡

而这只是一个服务,

让我得到一个临时的电子邮件｡

如果我输入Stephantheteacher然后按下go,

我会得到一个公共收件箱,

它会接收来自这个地址的邮件, 明白吗？

所以我们要创建这个｡ 

正如我们在这里看到的,

我们可以设置一个订阅过滤器策略｡

这是可选的, 但使用此策略,

我们可以筛选将发送到订阅的消息,

这非常有用｡

如果你有很多订阅者,

你只需要得到一部分发送到你的sq或你的SNS主题的消息,

但我们现在不会设置它｡

因此, 我们将创建此订阅,

现在需要验证订阅｡

因此, 正如我们现在所看到的, 它正在等待确认｡ 

为了确认这一点, 我将进入我的邮件收发器,

我收到了一封电子邮件｡

通过单击此确认订阅, 我将确认订阅｡

我们开始吧｡ 

现在, 如果我刷新此页面, 我将看到我的订阅已确认｡

所以这是完美的｡ 

同样, 如果我单击我的订阅,

我可以查看它, 看到它将向此端点发送电子邮件｡

如果我想这样做,

我可以有一个订阅过滤策略, 但现在我们没有任何,

因为我们希望所有的消息发送到我的SNS主题直接进入订阅｡

现在我们来做个测试｡ 

我们要发布一条消息｡ 

我将输入一个消息结构｡ 

我会说hello world,

这在我们测试某些服务并发布消息时非常常见｡

于是这条消息就被发表成了我的第一个话题｡ 

因此, 我应该看到的是,

如果我回到我的电子邮件和我的公共消息, 所以回到我的收件箱,

我应该看到是的, 一个AWS通知消息直接来自SNS说你好世界｡

所以它们很简单, 很酷｡ 

我们只是证明SNS是为我们工作的｡ 

所以这很完美, 我们可以开始了｡ 

如果我们想要实现SQS扇出模式,

我们需要选择SQS, 并设置许多不同的线索作为SNS主题订阅的接收者｡

所以, 对, SNS就是这样｡ 

完成后, 删除订阅, 然后返回到左侧的主题,

然后点击删除, 通过点击删除我来删除主题｡

如果你们去的话, SNS就到这里了,

希望你们喜欢, 我们下节课再见｡
